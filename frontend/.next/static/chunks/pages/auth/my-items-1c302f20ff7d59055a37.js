_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{"V/gZ":function(e,t,n){"use strict";n.r(t);var a=n("lwsE"),i=n.n(a),r=n("W8MJ"),o=n.n(r),s=n("PJYZ"),c=n.n(s),l=n("7W2i"),u=n.n(l),m=n("a1gu"),d=n.n(m),h=n("Nsbk"),p=n.n(h),f=n("lSNA"),g=n.n(f),b=n("q1tI"),y=n.n(b),v=n("b0oO"),E=n("Po8q"),k=n.n(E),w=n("WjD0"),x=n.n(w),D=n("mzXK"),I=n("VfJJ");function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return d()(this,n)}}var S=function(e){u()(n,e);var t=C(n);function n(){var e;i()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),g()(c()(e),"state",{loading:!1}),g()(c()(e),"removeItem",(function(){e.setState({loading:!0});var t=e.props.itemId;fetch("".concat("http://localhost:5000","/auth/remove-item/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then((function(){return window.location.replace("/auth/my-items")})).catch((function(e){return console.log(e)}))})),e}return o()(n,[{key:"render",value:function(){return y.a.createElement("form",{encType:"multipart/form-data"},y.a.createElement("input",{type:"hidden",name:"cookie",value:k.a.load("connect.sid")}),y.a.createElement("input",{type:"hidden",name:"XSRF-TOKEN",value:k.a.load("token")}),y.a.createElement("input",{type:"hidden",name:"authCookie",value:k.a.load("authCookie")}),y.a.createElement("button",{onClick:this.removeItem},"Remov",this.state.loading?"ing":"e"))}}]),n}(b.Component);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return d()(this,n)}}var R=function(e){u()(n,e);var t=N(n);function n(){var e;i()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),g()(c()(e),"state",{title:e.props.title,price:e.props.price,description:e.props.description,image:e.props.img,stock:e.props.stock,loading:!1,message:null}),g()(c()(e),"handleInputs",(function(t){e.setState(g()({},t.target.name,t.target.value))})),g()(c()(e),"handleImageUpload",(function(){var t=document.getElementById("image-test").files;console.log("Image file: ",t[0]);var n=new x.a;return n.append("file",t[0]),n.append("upload_preset","qfhsqrkq"),fetch("https://api.Cloudinary.com/v1_1/dqhw3ma9u/image/upload",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){e.setState({image:t.secure_url})})).catch((function(e){return console.log(e)}))})),g()(c()(e),"handleSubmit",(function(t){t.preventDefault();var n=e.props.itemId;e.setState({loading:!0}),fetch("".concat("http://localhost:5000","/auth/edit-item/").concat(n),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({title:e.state.title,price:e.state.price,description:e.state.description,stock:e.state.stock,image:e.state.image})}).then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,message:t.message})})).catch((function(t){e.setState({loading:!1}),console.log(t)}))})),e}return o()(n,[{key:"render",value:function(){return y.a.createElement(y.a.Fragment,null,this.state.message&&y.a.createElement(I.a,null,y.a.createElement("h1",{className:"Title needs to be at least 3 characters"===this.state.message||"Price cannot be less or equal than 0"===this.state.message||"Description needs to be at least 5 characters"===this.state.message||"the number has to be an integer"===this.state.message?"red":"",id:"message-test"},this.state.message)),y.a.createElement(D.a,{id:"form-test",encType:"multipart/form-data",onSubmit:this.handleSubmit},y.a.createElement("fieldset",{"aria-busy":this.state.loading,disabled:this.state.loading},y.a.createElement("h1",null,"Edit",this.state.loading?"ing ":""," Item"),y.a.createElement("input",{type:"hidden",name:"cookie",value:k.a.load("connect.sid")}),y.a.createElement("input",{type:"hidden",name:"XSRF-TOKEN",value:k.a.load("token")}),y.a.createElement("input",{type:"hidden",name:"authCookie",value:k.a.load("authCookie")}),y.a.createElement("label",{htmlFor:"title"},"Title",y.a.createElement("input",{name:"title",id:"title-test",placeholder:"enter a title",value:this.state.title,onChange:this.handleInputs,className:"Title needs to be at least 3 characters"===this.state.message?"invalid":""})),y.a.createElement("label",{htmlFor:"price"},"Price \u20ac",y.a.createElement("input",{name:"price",type:"number",id:"price-test",placeholder:"enter a price",value:this.state.price,onChange:this.handleInputs,className:"Price cannot be less or equal than 0"===this.state.message?"invalid":"",min:"0.01",step:"0.01"})),y.a.createElement("label",{htmlFor:"image"},"Image",y.a.createElement("input",{type:"file",name:"image",id:"image-test",placeholder:"upload an image",onChange:this.handleImageUpload})),this.state.image&&y.a.createElement("figure",null,y.a.createElement("img",{src:this.state.image,alt:this.state.title})),y.a.createElement("label",{htmlFor:"description"},"Description",y.a.createElement("input",{name:"description",id:"description-test",placeholder:"enter a description",value:this.state.description,onChange:this.handleInputs,className:"Description needs to be at least 5 characters"===this.state.message?"invalid":""})),y.a.createElement("label",{htmlFor:"stock"},"How many items do you have in stock?",y.a.createElement("input",{name:"stock",type:"number",id:"stock-test",placeholder:"enter how many items you have in stock",value:this.state.stock,step:"1",onChange:this.handleInputs,className:"Items in stock need to be grater than 0"===this.state.message||"the number has to be an integer"===this.state.message?"invalid":""})),y.a.createElement("button",null,this.state.loading?"Editing Item!":"Edit Item!"),y.a.createElement(S,{itemId:this.props.itemId}))))}}]),n}(b.Component),T=n("haSQ");function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return d()(this,n)}}var z=function(e){u()(n,e);var t=_(n);function n(e){var a;return i()(this,n),a=t.call(this,e),g()(c()(a),"fetchData",(function(){fetch("".concat("http://localhost:5000","/auth/my-items"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){a.setState({loading:!1,items:e.items.map((function(e){return y.a.createElement(R,{title:e.title,description:e.description,img:e.image,price:e.price,key:e._id,itemId:e._id,stock:e.stock})}))})})).catch((function(e){return console.log(e)}))})),a.state={items:[],loading:!0},a.fetchData=a.fetchData.bind(c()(a)),a}return o()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return y.a.createElement(y.a.Fragment,null,y.a.createElement(v.a,null),this.state.loading&&y.a.createElement(T.a,null,"Loading..."),!this.state.loading&&y.a.createElement(y.a.Fragment,null,y.a.createElement("h1",{style:{textAlign:"center",color:"green"}},this.state.items.length>0?"You Have Created ".concat(this.state.items.length," \n                Item").concat(this.state.items.length>1?"s":"",":"):"You Did Not Create Any Item Yet"),y.a.createElement("div",null,this.state.items)))}}]),n}(b.Component);t.default=function(e){return y.a.createElement(z,null)}},VfJJ:function(e,t,n){"use strict";var a,i=n("VkAN"),r=n.n(i),o=n("vOnD").a.div(a||(a=r()(["\n\n    padding: 2rem;\n    background: white;\n    margin: 2rem auto;\n    width: 80%;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.30);\n    word-wrap: break-word;\n    text-transform: uppercase;\n\n    h1 {\n\n        text-align: center;\n        font-weight: 600;\n        color: green;\n\n    }\n\n    .red {\n\n        color: red;\n\n    }\n\n    @media only screen and (max-width: 600px) {\n\n        padding: 1rem;\n\n        h1 {\n\n            font-size: .7rem;\n\n        }\n\n    }\n\n    @media only screen and (max-width: 300px) {\n\n        h1 {\n\n            font-size: 8px;\n\n        }\n\n    }\n\n"])));t.a=o},WjD0:function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},haSQ:function(e,t,n){"use strict";var a,i=n("VkAN"),r=n.n(i),o=n("vOnD").a.h1(a||(a=r()(["\n\n    color: green;\n    text-align: center;\n\n"])));t.a=o},mzXK:function(e,t,n){"use strict";var a,i,r=n("VkAN"),o=n.n(r),s=n("vOnD"),c=Object(s.b)(a||(a=o()(["\n\n  from {\n\n    background-position: 0 0;\n    /* rotate: 0; */\n  }\n\n  to {\n\n    background-position: 100% 100%;\n    /* rotate: 360deg; */\n  }\n"]))),l=s.a.form(i||(i=o()(["\n\n  border: 5px solid white;\n  box-shadow: 0 0 5px 3px rgba(0, 0, 0, 0.05);\n  padding: 2rem;\n  margin: 1rem auto;\n  text-align: center;\n  line-height: 1.5;\n  font-weight: 600;\n  font-size: 1.5rem;\n  background: rgba(0, 0, 0, 0.02);\n  text-transform: uppercase;\n  max-width: 60%;\n\n  img {\n\n    width: 200px;\n\n  }\n\n  .invalid {\n\n    border: 5px solid red;\n\n  }\n\n  label {\n\n    text-align: center;\n    margin: 1rem;\n    display: block;\n\n  }\n\n  input,\n  textarea,\n  select {\n\n    width: 100%;\n    font-size: 1rem;\n    padding: 0.5rem;\n    border: 1px solid black;\n    text-align-last: center;\n\n  }\n  \n  button,\n  input[type='submit'] {\n\n    font-size: 2rem;\n    width: auto;\n    color: white;\n    border: 0;\n    padding: 0.5rem 1.2rem;\n    font-weight: 600;\n    margin: 10px;\n    background: green;\n    text-align: center;\n\n  }\n\n  button:hover {\n\n    cursor: pointer;\n    color: yellowgreen;\n\n  }\n\n  fieldset {\n\n    padding: 0;\n    border: 0;\n\n    &[disabled] {\n\n      opacity: 0.5;\n\n    }\n\n    &::before {\n\n      content: '';\n      background-image: linear-gradient(to right, #7FFF00 0%, #20B2AA 50%, #32CD32 100%);\n      height: 10px;\n      display: block;\n    \n    }\n    \n    &[aria-busy='true']::before {\n    \n      animation: "," 0.5s linear infinite;\n      background-size: 50% auto;\n     \n    }\n  }\n\n  @media only screen and (max-width: 600px) {\n\n    max-width: 100%;\n    margin: 1rem;\n\n    img {\n\n      width: 120px;\n\n    }\n\n    h1 {\n\n      font-size: .8rem;\n\n    }\n\n    label {\n\n      font-size: .8rem;\n\n    }\n\n    input {\n\n      font-size: .8rem;\n\n    }\n\n    button {\n\n      font-size: .8rem;\n\n    }\n\n    }\n\n    @media only screen and (min-width: 700px) {\n\n      img {\n\n        width: 400px;\n\n      }\n\n      h1 {\n\n        font-size: 1.5rem;\n\n      }\n\n      label {\n\n        font-size: 1.5rem;\n\n      }\n\n      input {\n\n        font-size: 1.5rem;\n\n      }\n\n      button {\n\n        font-size: 1.5rem;\n\n      }\n\n  }\n\n"])),c);t.a=l},x0gT:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/my-items",function(){return n("V/gZ")}])}},[["x0gT",0,2,4,1,3,5]]]);