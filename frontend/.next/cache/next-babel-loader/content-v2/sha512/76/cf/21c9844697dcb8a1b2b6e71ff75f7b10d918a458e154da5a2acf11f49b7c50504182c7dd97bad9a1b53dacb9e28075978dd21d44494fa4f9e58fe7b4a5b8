{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\nimport React, { Component } from 'react';\nimport Form from './styles/Form';\nimport MessageStyles from '../components/styles/MessageStyles';\nimport Header from '../components/Header';\n\nvar Signup = /*#__PURE__*/function (_Component) {\n  _inherits(Signup, _Component);\n\n  var _super = _createSuper(Signup);\n\n  function Signup() {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      email: '',\n      name: '',\n      password: '',\n      confirmPassword: '',\n      loading: false,\n      message: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleInputs\", function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"signupHandler\", function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        loading: true\n      });\n\n      _this.fetchData();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchData\", function () {\n      fetch(\"\".concat(process.env.NEXT_PUBLIC_API_URL, \"/auth/api/signup\"), {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        credentials: \"include\",\n        body: JSON.stringify({\n          name: _this.state.name,\n          password: _this.state.password,\n          confirmPassword: _this.state.confirmPassword,\n          email: _this.state.email\n        })\n      }).then(function (res) {\n        return res.json();\n      }) // handling any errors that we might get and also messages that tells the user that the account was created\n      .then(function (resData) {\n        _this.setState({\n          message: resData.message,\n          loading: false\n        });\n      })[\"catch\"](function (err) {\n        _this.setState({\n          loading: false\n        });\n\n        console.log(err);\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Signup, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, null), this.state.message && /*#__PURE__*/React.createElement(MessageStyles, null, /*#__PURE__*/React.createElement(\"h1\", {\n        className: this.state.message === 'Invalid email' || this.state.message === 'please enter your name' || this.state.message === 'password needs to be at least 5 characters' || this.state.message === 'passwords do not match' ? 'red' : ''\n      }, this.state.message)), /*#__PURE__*/React.createElement(Form, {\n        className: \"signUp-form-test\",\n        onSubmit: this.signupHandler\n      }, /*#__PURE__*/React.createElement(\"fieldset\", {\n        \"aria-busy\": this.state.loading,\n        disabled: this.state.loading\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        id: \"h1-test\"\n      }, \"Sign\", this.state.loading ? 'ing' : '', \" Up For An Account\"), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"email\"\n      }, \"Email\", /*#__PURE__*/React.createElement(\"input\", {\n        className: this.state.message === 'Invalid email' ? 'invalid' : '',\n        id: \"email-test\",\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"enter your email\",\n        value: this.state.email,\n        onChange: this.handleInputs\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"name\"\n      }, \"Name\", /*#__PURE__*/React.createElement(\"input\", {\n        className: this.state.message === 'please enter your name' ? 'invalid' : '',\n        id: \"name-test\",\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"enter your name\",\n        value: this.state.name,\n        onChange: this.handleInputs\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\"\n      }, \"Password\", /*#__PURE__*/React.createElement(\"input\", {\n        className: this.state.message === 'password needs to be at least 5 characters' ? 'invalid' : '',\n        id: \"password-test\",\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"enter your password\",\n        value: this.state.password,\n        onChange: this.handleInputs\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"confirm password\"\n      }, \"Confirm Password\", /*#__PURE__*/React.createElement(\"input\", {\n        className: this.state.message === 'passwords do not match' ? 'invalid' : '',\n        id: \"confirmPassword-test\",\n        type: \"password\",\n        name: \"confirmPassword\",\n        placeholder: \"confirm password\",\n        value: this.state.confirmPassword,\n        onChange: this.handleInputs\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"button-test\"\n      }, \"Sign\", this.state.loading ? 'ing' : '', \" Up!\"))));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    value: // @ts-ignore\n    function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return Signup;\n}(Component);\n\n;\nvar _default = Signup;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Signup, \"Signup\", \"/Users/stefano.mezza/Downloads/e-commerce/frontend/components/Signup.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/stefano.mezza/Downloads/e-commerce/frontend/components/Signup.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/stefano.mezza/Downloads/e-commerce/frontend/components/Signup.js"],"names":["React","Component","Form","MessageStyles","Header","Signup","email","name","password","confirmPassword","loading","message","e","setState","target","value","preventDefault","fetchData","fetch","process","env","NEXT_PUBLIC_API_URL","method","headers","credentials","body","JSON","stringify","state","then","res","json","resData","err","console","log","signupHandler","handleInputs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport Form from './styles/Form';\nimport MessageStyles from '../components/styles/MessageStyles';\nimport Header from '../components/Header';\n\nclass Signup extends Component {\n\n    state = {\n\n        email: '',\n        name: '',\n        password: '',\n        confirmPassword: '',\n        loading: false,\n        message: null,\n\n    }\n\n    // handling errors and inputs\n    handleInputs = e => {\n\n        this.setState({ [e.target.name]: e.target.value });\n\n    }\n\n    signupHandler = e => {\n\n        e.preventDefault();\n        this.setState({ loading: true });\n        this.fetchData();\n\n    }\n\n    // connecting react with node in order to have a connection between the client side and the database\n    fetchData = () => {\n\n        fetch(`${process.env.NEXT_PUBLIC_API_URL}/auth/api/signup`, {\n\n            method: 'PUT',\n    \n            headers: {\n    \n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n    \n            },\n\n            credentials: \"include\",\n\n            body: JSON.stringify({\n\n                name: this.state.name,\n                password: this.state.password,\n                confirmPassword: this.state.confirmPassword,\n                email: this.state.email,\n                    \n            })\n    \n        })\n\n        .then(res => {\n\n            return res.json();\n\n        })\n\n        // handling any errors that we might get and also messages that tells the user that the account was created\n        .then(resData => {\n\n            this.setState({ message: resData.message, loading: false });\n\n        })\n\n        .catch(err => {\n            \n            this.setState({ loading: false });\n            console.log(err);\n        \n        });\n\n    }\n\n    render() {\n\n        return (\n\n        <>\n            <Header />\n\n            {/* showing error/messages */}\n           \n            {this.state.message && ( <MessageStyles><h1 className={\n\n                this.state.message === 'Invalid email' || this.state.message === 'please enter your name' || this.state.message === 'password needs to be at least 5 characters' ||\n                this.state.message === 'passwords do not match' ? 'red' : ''\n\n            }>{this.state.message}</h1></MessageStyles> ) }\n        \n            <Form className=\"signUp-form-test\" onSubmit={this.signupHandler}>\n                \n                <fieldset aria-busy={this.state.loading} disabled={this.state.loading}>\n                    \n                    {/* this line will show signing up while waiting */}\n                    <h1 id=\"h1-test\">Sign{this.state.loading ? 'ing' : ''} Up For An Account</h1>\n\n                        <label htmlFor=\"email\">\n\n                            Email\n                                \n                            <input\n                                \n                                className={this.state.message === 'Invalid email' ? 'invalid' : ''}\n                                id=\"email-test\"\n                                type=\"email\"\n                                name=\"email\"\n                                placeholder=\"enter your email\"\n                                value={this.state.email}\n                                onChange={this.handleInputs}\n                                \n                            />\n                            \n                        </label>\n\n                        <label htmlFor=\"name\">\n\n                            Name\n\n                            <input\n\n                                className={this.state.message === 'please enter your name' ? 'invalid' : ''}\n                                id=\"name-test\"\n                                type=\"text\"\n                                name=\"name\"\n                                placeholder=\"enter your name\"\n                                value={this.state.name}\n                                onChange={this.handleInputs}\n\n                            />\n\n                        </label>\n\n                        <label htmlFor=\"password\">\n\n                            Password\n\n                            <input\n\n                                className={this.state.message === 'password needs to be at least 5 characters' ? 'invalid' : ''}\n                                id=\"password-test\"\n                                type=\"password\"\n                                name=\"password\"\n                                placeholder=\"enter your password\"\n                                value={this.state.password}\n                                onChange={this.handleInputs}\n\n                            />\n\n                        </label>\n\n                        <label htmlFor=\"confirm password\">\n\n                            Confirm Password\n\n                            <input\n\n                                className={this.state.message === 'passwords do not match' ? 'invalid' : ''}\n                                id=\"confirmPassword-test\"\n                                type=\"password\"\n                                name=\"confirmPassword\"\n                                placeholder=\"confirm password\"\n                                value={this.state.confirmPassword}\n                                onChange={this.handleInputs}\n\n                            />\n\n                        </label>\n\n                        {/* this line will show signing up while waiting */}\n                        <button id=\"button-test\">Sign{this.state.loading ? 'ing' : ''} Up!</button>\n\n                    </fieldset>\n\n                </Form>\n\n        </>\n        \n        )\n\n    }\n\n};\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}