{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\nimport React, { Component } from 'react';\n\nvar RemoveReview = /*#__PURE__*/function (_Component) {\n  _inherits(RemoveReview, _Component);\n\n  var _super = _createSuper(RemoveReview);\n\n  function RemoveReview() {\n    var _this;\n\n    _classCallCheck(this, RemoveReview);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      message: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchData\", function () {\n      var reviewId = _this.props.reviewId;\n      fetch(\"\".concat(process.env.LOCALHOST, \"/auth/remove-review/\").concat(reviewId), {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        credentials: 'include'\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resData) {\n        _this.setState({\n          message: resData.message\n        });\n      }).then(function () {\n        if (_this.state.message === 'review was removed') {\n          setTimeout(function () {\n            window.location.replace(\"/view-item/\".concat(_this.props.itemId));\n          }, 1000);\n        }\n      })[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(RemoveReview, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        className: \"remove-review\",\n        onClick: this.fetchData,\n        \"aria-label\": \"remove review\"\n      }, \"X\");\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    value: // @ts-ignore\n    function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return RemoveReview;\n}(Component);\n\nvar _default = RemoveReview;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(RemoveReview, \"RemoveReview\", \"/Users/stefano.mezza/Downloads/e-commerce/e-commerce/frontend/components/RemoveReview.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/stefano.mezza/Downloads/e-commerce/e-commerce/frontend/components/RemoveReview.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/stefano.mezza/Downloads/e-commerce/e-commerce/frontend/components/RemoveReview.js"],"names":["React","Component","RemoveReview","message","reviewId","props","fetch","process","env","LOCALHOST","method","headers","credentials","then","res","json","resData","setState","state","setTimeout","window","location","replace","itemId","err","console","log","fetchData"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;IAEMC,Y;;;;;;;;;;;;;;;;4DAEM;AAEJC,MAAAA,OAAO,EAAE;AAFL,K;;gEAMI,YAAM;AAEd,UAAMC,QAAQ,GAAG,MAAKC,KAAL,CAAWD,QAA5B;AAEAE,MAAAA,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,SAAhB,iCAAgDL,QAAhD,GAA4D;AAE7DM,QAAAA,MAAM,EAAE,QAFqD;AAI7DC,QAAAA,OAAO,EAAE;AAEL,0BAAgB,kBAFX;AAGL,oBAAU;AAHL,SAJoD;AAW7DC,QAAAA,WAAW,EAAE;AAXgD,OAA5D,CAAL,CAeCC,IAfD,CAeM,UAAAC,GAAG,EAAI;AAET,eAAOA,GAAG,CAACC,IAAJ,EAAP;AAEH,OAnBD,EAqBCF,IArBD,CAqBM,UAAAG,OAAO,EAAI;AAEb,cAAKC,QAAL,CAAc;AAAEd,UAAAA,OAAO,EAAEa,OAAO,CAACb;AAAnB,SAAd;AAEH,OAzBD,EA2BCU,IA3BD,CA2BM,YAAM;AAER,YAAG,MAAKK,KAAL,CAAWf,OAAX,KAAuB,oBAA1B,EAAgD;AAE5CgB,UAAAA,UAAU,CAAC,YAAM;AAEbC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,sBAAsC,MAAKjB,KAAL,CAAWkB,MAAjD;AAEH,WAJS,EAIP,IAJO,CAAV;AAMH;AAEJ,OAvCD,WAyCO,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OAzCV;AA2CH,K;;;;;;;WAED,kBAAS;AAEL,0BAEI;AAAQ,QAAA,SAAS,EAAC,eAAlB;AAAkC,QAAA,OAAO,EAAE,KAAKG,SAAhD;AAA2D,sBAAW;AAAtE,aAFJ;AAMH;;;;;;;;;;;EAjEsB1B,S;;eAqEZC,Y;AAAf;;;;;;;;;;0BArEMA,Y","sourcesContent":["import React, { Component } from 'react';\n\nclass RemoveReview extends Component {\n\n    state = {\n\n        message: null,\n\n    }\n\n    fetchData = () => {\n\n        const reviewId = this.props.reviewId;\n\n        fetch(`${process.env.LOCALHOST}/auth/remove-review/${reviewId}`, {\n\n            method: 'DELETE',\n\n            headers: {\n\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n\n            },\n\n            credentials: 'include',\n\n        })\n\n        .then(res => {\n\n            return res.json();\n\n        })\n\n        .then(resData => {\n\n            this.setState({ message: resData.message });\n\n        })\n\n        .then(() => {\n\n            if(this.state.message === 'review was removed') {\n\n                setTimeout(() => {\n\n                    window.location.replace(`/view-item/${this.props.itemId}`)\n                    \n                }, 1000);\n\n            }\n\n        })\n\n        .catch(err => console.log(err));\n\n    }\n\n    render() {\n\n        return (\n\n            <button className=\"remove-review\" onClick={this.fetchData} aria-label=\"remove review\">X</button>\n\n        )\n\n    }\n\n}\n\nexport default RemoveReview;"]},"metadata":{},"sourceType":"module"}