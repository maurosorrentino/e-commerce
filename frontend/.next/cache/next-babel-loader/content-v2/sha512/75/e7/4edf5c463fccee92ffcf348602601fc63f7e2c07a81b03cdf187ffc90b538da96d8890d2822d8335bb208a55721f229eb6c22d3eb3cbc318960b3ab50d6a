{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\nimport React, { Component } from 'react';\nimport OrderStyle from '../components/styles/OrderStyle';\nimport Header from '../components/Header';\nimport LoadingStyle from '../components/styles/LoadingStyle';\n\nvar Order = /*#__PURE__*/function (_Component) {\n  _inherits(Order, _Component);\n\n  var _super = _createSuper(Order);\n\n  function Order(props) {\n    var _this;\n\n    _classCallCheck(this, Order);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchData\", function () {\n      fetch(\"\".concat(process.env.NEXT_PUBLIC_API_URL, \"/auth/api/orders\"), {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        credentials: 'include'\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resData) {\n        // mapping the orders so that we can show them\n        _this.setState({\n          loading: false,\n          orders: resData.orders.map(function (order) {\n            return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ul\", {\n              key: order._id\n            }, /*#__PURE__*/React.createElement(\"h1\", {\n              id: \"order-id-total\"\n            }, \"Order id: \", /*#__PURE__*/React.createElement(\"span\", null, order._id)), /*#__PURE__*/React.createElement(\"li\", {\n              className: \"order\"\n            }, order.items.map(function (item) {\n              return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ul\", {\n                key: item.itemId,\n                className: \"item\"\n              }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h1\", null, \"Title\"), /*#__PURE__*/React.createElement(\"p\", null, item.title), /*#__PURE__*/React.createElement(\"h1\", null, \"Price\"), /*#__PURE__*/React.createElement(\"p\", null, Number(item.price).toFixed(2), \" \\u20AC\"), /*#__PURE__*/React.createElement(\"h1\", null, \"Quantity\"), /*#__PURE__*/React.createElement(\"p\", null, item.quantity))));\n            })), /*#__PURE__*/React.createElement(\"h1\", {\n              id: \"order-id-total\"\n            }, \"Total: \", /*#__PURE__*/React.createElement(\"span\", null, Number(order.total).toFixed(2), \" \\u20AC\"))));\n          })\n        });\n      })[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    });\n\n    _this.state = {\n      orders: [],\n      loading: true\n    };\n    _this.fetchData = _this.fetchData.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Order, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, null), this.state.loading && /*#__PURE__*/React.createElement(LoadingStyle, null, \"Loading...\"), this.state.orders.length === 0 && !this.state.loading && /*#__PURE__*/React.createElement(OrderStyle, null, /*#__PURE__*/React.createElement(\"h1\", null, \"you did not order anything yet.\")), !this.state.loading && /*#__PURE__*/React.createElement(OrderStyle, null, this.state.orders));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    value: // @ts-ignore\n    function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return Order;\n}(Component);\n\nvar _default = Order;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Order, \"Order\", \"/Users/stefano.mezza/Downloads/e-commerce/frontend/components/Order.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/stefano.mezza/Downloads/e-commerce/frontend/components/Order.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/stefano.mezza/Downloads/e-commerce/frontend/components/Order.js"],"names":["React","Component","OrderStyle","Header","LoadingStyle","Order","props","fetch","process","env","NEXT_PUBLIC_API_URL","method","headers","credentials","then","res","json","resData","setState","loading","orders","map","order","_id","items","item","itemId","title","Number","price","toFixed","quantity","total","err","console","log","state","fetchData","bind","length"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,UAAP,MAAuB,iCAAvB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,YAAP,MAAyB,mCAAzB;;IAEMC,K;;;;;AAEF,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;;AADe,gEAcP,YAAM;AAEdC,MAAAA,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,mBAAhB,uBAAuD;AAGxDC,QAAAA,MAAM,EAAE,KAHgD;AAKxDC,QAAAA,OAAO,EAAE;AAEL,0BAAgB,kBAFX;AAGL,oBAAU;AAHL,SAL+C;AAYxDC,QAAAA,WAAW,EAAE;AAZ2C,OAAvD,CAAL,CAgBCC,IAhBD,CAgBM,UAAAC,GAAG,EAAI;AAET,eAAOA,GAAG,CAACC,IAAJ,EAAP;AAEH,OApBD,EAsBCF,IAtBD,CAsBM,UAAAG,OAAO,EAAI;AAEb;AACA,cAAKC,QAAL,CAAc;AAAEC,UAAAA,OAAO,EAAE,KAAX;AAAkBC,UAAAA,MAAM,EAAEH,OAAO,CAACG,MAAR,CAAeC,GAAf,CAAmB,UAAAC,KAAK,EAAI;AAEhE,gCAEI,uDACI;AAAI,cAAA,GAAG,EAAEA,KAAK,CAACC;AAAf,4BAEI;AAAI,cAAA,EAAE,EAAC;AAAP,0CAAkC,kCAAOD,KAAK,CAACC,GAAb,CAAlC,CAFJ,eAII;AAAI,cAAA,SAAS,EAAC;AAAd,eAEKD,KAAK,CAACE,KAAN,CAAYH,GAAZ,CAAgB,UAAAI,IAAI,EAAI;AAErB,kCAEI,uDAEI;AAAI,gBAAA,GAAG,EAAEA,IAAI,CAACC,MAAd;AAAsB,gBAAA,SAAS,EAAC;AAAhC,8BAEI,6CAEI,wCAFJ,eAII,+BAAID,IAAI,CAACE,KAAT,CAJJ,eAMI,wCANJ,eAQI,+BAAIC,MAAM,CAACH,IAAI,CAACI,KAAN,CAAN,CAAmBC,OAAnB,CAA2B,CAA3B,CAAJ,YARJ,eAUI,2CAVJ,eAYI,+BAAIL,IAAI,CAACM,QAAT,CAZJ,CAFJ,CAFJ,CAFJ;AA4BH,aA9BA,CAFL,CAJJ,eAwCI;AAAI,cAAA,EAAE,EAAC;AAAP,uCAA+B,kCAAOH,MAAM,CAACN,KAAK,CAACU,KAAP,CAAN,CAAoBF,OAApB,CAA4B,CAA5B,CAAP,YAA/B,CAxCJ,CADJ,CAFJ;AAmDH,WArDuC;AAA1B,SAAd;AAuDH,OAhFD,WAkFO,UAAAG,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OAlFV;AAoFH,KApGkB;;AAGf,UAAKG,KAAL,GAAa;AAEThB,MAAAA,MAAM,EAAE,EAFC;AAGTD,MAAAA,OAAO,EAAE;AAHA,KAAb;AAOA,UAAKkB,SAAL,GAAiB,MAAKA,SAAL,CAAeC,IAAf,+BAAjB;AAVe;AAYlB;;;;WA0FD,6BAAoB;AAEhB,WAAKD,SAAL;AAEH;;;WAED,kBAAS;AAEL,0BACR,uDACY,oBAAC,MAAD,OADZ,EAGa,KAAKD,KAAL,CAAWjB,OAAX,iBAAuB,oBAAC,YAAD,qBAHpC,EAKa,KAAKiB,KAAL,CAAWhB,MAAX,CAAkBmB,MAAlB,KAA6B,CAA7B,IAAkC,CAAC,KAAKH,KAAL,CAAWjB,OAA9C,iBAEG,oBAAC,UAAD,qBAEI,kEAFJ,CAPhB,EAaa,CAAC,KAAKiB,KAAL,CAAWjB,OAAZ,iBAAwB,oBAAC,UAAD,QAAa,KAAKiB,KAAL,CAAWhB,MAAxB,CAbrC,CADQ;AAkBH;;;;;;;;;;;EAlIenB,S;;eAsILI,K;AAAf;;;;;;;;;;0BAtIMA,K","sourcesContent":["import React, { Component } from 'react';\n\nimport OrderStyle from '../components/styles/OrderStyle';\nimport Header from '../components/Header';\nimport LoadingStyle from '../components/styles/LoadingStyle';\n\nclass Order extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            \n            orders: [],\n            loading: true,\n    \n        }\n\n        this.fetchData = this.fetchData.bind(this);\n\n    }\n\n    fetchData = () => {\n\n        fetch(`${process.env.NEXT_PUBLIC_API_URL}/auth/api/orders`, {\n\n\n            method: 'GET',\n\n            headers: {\n\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n\n            },\n\n            credentials: 'include',\n\n        })\n\n        .then(res => {\n\n            return res.json();\n\n        })\n\n        .then(resData => { \n\n            // mapping the orders so that we can show them\n            this.setState({ loading: false, orders: resData.orders.map(order => {\n\n                return (\n\n                    <>\n                        <ul key={order._id}>\n\n                            <h1 id=\"order-id-total\">Order id: <span>{order._id}</span></h1>\n\n                            <li className=\"order\">\n                                \n                                {order.items.map(item => {\n\n                                    return (\n\n                                        <>\n\n                                            <ul key={item.itemId} className=\"item\">\n\n                                                <li>\n\n                                                    <h1>Title</h1>\n\n                                                    <p>{item.title}</p>\n\n                                                    <h1>Price</h1>\n\n                                                    <p>{Number(item.price).toFixed(2)} €</p>\n\n                                                    <h1>Quantity</h1>\n\n                                                    <p>{item.quantity}</p>\n\n\n                                                </li>\n\n                                            </ul>\n\n                                        </>\n                                    )\n\n                                })}\n                                \n                            </li>\n\n                            <h1 id=\"order-id-total\">Total: <span>{Number(order.total).toFixed(2)} €</span></h1>\n\n                        </ul>\n\n                    </>\n\n                )\n\n            }) })\n\n        })\n\n        .catch(err => console.log(err));\n\n    }\n\n    componentDidMount() {\n\n        this.fetchData();\n\n    }\n\n    render() {\n\n        return (\n<>\n            <Header />\n\n            {this.state.loading && (<LoadingStyle>Loading...</LoadingStyle>) }\n\n            {this.state.orders.length === 0 && !this.state.loading && (\n            \n                <OrderStyle>\n\n                    <h1>you did not order anything yet.</h1>\n\n                </OrderStyle>) }\n\n            {!this.state.loading && (<OrderStyle>{this.state.orders}</OrderStyle>) }\n</>\n        )\n\n    }\n\n}\n\nexport default Order;"]},"metadata":{},"sourceType":"module"}