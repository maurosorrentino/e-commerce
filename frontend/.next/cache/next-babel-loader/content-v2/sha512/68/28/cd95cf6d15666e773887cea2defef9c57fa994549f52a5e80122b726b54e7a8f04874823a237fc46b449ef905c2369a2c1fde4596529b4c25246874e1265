{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\nimport React, { Component } from 'react';\nimport Link from 'next/link';\nimport StyleOfItem from '../components/styles/StyleOfItem';\nimport Header from '../components/Header';\nimport ItemsContainerStyle from './styles/ItemsContainerStyle';\nimport AddToCart from '../components/AddToCart';\nimport Pagination from '../components/styles/Pagination';\nimport LoadingStyle from '../components/styles/LoadingStyle';\nimport ItemAvailableAgain from '../components/ItemAvailableAgain';\n\nvar Shop = /*#__PURE__*/function (_Component) {\n  _inherits(Shop, _Component);\n\n  var _super = _createSuper(Shop);\n\n  function Shop(props) {\n    var _this;\n\n    _classCallCheck(this, Shop);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchData\", function () {\n      fetch(\"\".concat(process.env.NEXT_PUBLIC_API_URL, \"/api/shop\"), {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resData) {\n        // we need totalItems for pagination\n        _this.setState({\n          loading: false,\n          totalItems: resData.totalItems,\n          email: resData.email\n        });\n        /* mapping the items that we are getting from the backend and setting them into state so that we can fetch them */\n\n\n        _this.setState({\n          items: resData.items.map(function (item) {\n            var inStock = item.stock;\n            return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n              href: \"/view-item/\".concat(item._id)\n            }, /*#__PURE__*/React.createElement(\"a\", null, /*#__PURE__*/React.createElement(StyleOfItem, {\n              key: item._id\n            }, /*#__PURE__*/React.createElement(\"h1\", null, \"title\"), /*#__PURE__*/React.createElement(\"p\", null, item.title), /*#__PURE__*/React.createElement(\"img\", {\n              alt: item.title,\n              src: item.image\n            }), /*#__PURE__*/React.createElement(\"h1\", null, \"description\"), /*#__PURE__*/React.createElement(\"p\", null, item.description), /*#__PURE__*/React.createElement(\"h1\", null, \"price\"), /*#__PURE__*/React.createElement(\"p\", null, Number(item.price).toFixed(2), \" \\u20AC\"), /*#__PURE__*/React.createElement(AddToCart, {\n              inStock: Number(inStock),\n              itemId: item._id\n            }), inStock <= 5 && inStock > 0 && /*#__PURE__*/React.createElement(\"h1\", {\n              className: \"few-left\"\n            }, \"only \", inStock, \" left!!!\"), inStock === 0 && /*#__PURE__*/React.createElement(ItemAvailableAgain, {\n              itemId: item._id\n            })))));\n          })\n        });\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      // here we change the state of currentPage based on the page that the user clicks so that the index of the items that we want to show will change\n      _this.setState({\n        currentPage: Number(e.target.id)\n      });\n      /* disabling next button for click event on <li> */\n\n\n      var lastPage = Math.ceil(_this.state.totalItems / _this.state.perPage);\n\n      if (_this.state.currentPage = lastPage) {\n        _this.setState({\n          lastPage: lastPage\n        });\n      } // scrolling to the top\n\n\n      window.scrollTo(0, 0);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePrev\", function () {\n      _this.setState({\n        currentPage: _this.state.currentPage - 1\n      });\n\n      window.scrollTo(0, 0); // disabling prev button\n\n      if (_this.state.currentPage === 1) {\n        _this.setState({\n          currentPage: 1\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleNext\", function () {\n      _this.setState({\n        currentPage: _this.state.currentPage + 1\n      });\n      /* disabling next button for click on next button */\n\n\n      var lastPage = Math.ceil(_this.state.totalItems / _this.state.perPage); // I don't know why it works with only 1 = but if I try to put === it is not gonna work, weird\n\n      if (_this.state.currentPage = lastPage) {\n        _this.setState({\n          lastPage: lastPage\n        });\n      }\n\n      window.scrollTo(0, 0);\n    });\n\n    _this.state = {\n      items: [],\n      totalItems: null,\n      perPage: 4,\n      currentPage: 1,\n      lastPage: null,\n      loading: true\n    };\n    _this.fetchData = _this.fetchData.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Shop, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      /* logic for displaying items */\n      // so we first get the index of the items that we want to display like this so that when the user clicks on a different page a new index will render \n      // and so the items that are shown will change\n      var indexLastItem = this.state.currentPage * this.state.perPage;\n      var indexFirstItem = indexLastItem - this.state.perPage; // with the slice function we only show 4 items per page by specifing the index of the items\n\n      var currentItems = this.state.items.slice(indexFirstItem, indexLastItem);\n      /* logic for displaying page numbers */\n      // empty array where we will push every page numbers\n\n      var pageNumbers = []; // loop so that we can calculate how many pages we need\n\n      for (var i = 1; i <= Math.ceil(this.state.totalItems / this.state.perPage); i++) {\n        pageNumbers.push(i);\n      }\n\n      ; // mapping the page numbers so that we can show it to the users\n\n      var renderPageNumbers = pageNumbers.map(function (pageNumber) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: pageNumber,\n          id: pageNumber,\n          className: _this2.state.currentPage === pageNumber ? 'current-page' : '',\n          onClick: _this2.handleClick\n        }, pageNumber);\n      });\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, null), this.state.loading && /*#__PURE__*/React.createElement(LoadingStyle, null, \"Loading...\"), /*#__PURE__*/React.createElement(ItemsContainerStyle, null, /*#__PURE__*/React.createElement(\"div\", null), currentItems), !this.state.loading && this.state.items.length > 4 && /*#__PURE__*/React.createElement(Pagination, null, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"button\", {\n        disabled: this.state.currentPage === 1 ? true : false,\n        onClick: this.handlePrev\n      }, \"\\u2190 Prev\"), renderPageNumbers, /*#__PURE__*/React.createElement(\"button\", {\n        disabled: this.state.currentPage === this.state.lastPage ? true : false,\n        onClick: this.handleNext\n      }, \"Next \\u2192\"))));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    value: // @ts-ignore\n    function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return Shop;\n}(Component);\n\n;\nvar _default = Shop;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Shop, \"Shop\", \"/Users/stefano.mezza/Downloads/e-commerce/frontend/components/Shop.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/stefano.mezza/Downloads/e-commerce/frontend/components/Shop.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/stefano.mezza/Downloads/e-commerce/frontend/components/Shop.js"],"names":["React","Component","Link","StyleOfItem","Header","ItemsContainerStyle","AddToCart","Pagination","LoadingStyle","ItemAvailableAgain","Shop","props","fetch","process","env","NEXT_PUBLIC_API_URL","method","headers","then","res","json","resData","setState","loading","totalItems","email","items","map","item","inStock","stock","_id","title","image","description","Number","price","toFixed","err","console","log","e","currentPage","target","id","lastPage","Math","ceil","state","perPage","window","scrollTo","fetchData","bind","indexLastItem","indexFirstItem","currentItems","slice","pageNumbers","i","push","renderPageNumbers","pageNumber","handleClick","length","handlePrev","handleNext"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Link from 'next/link';\n\nimport StyleOfItem from '../components/styles/StyleOfItem';\nimport Header from '../components/Header';\nimport ItemsContainerStyle from './styles/ItemsContainerStyle';\nimport AddToCart from '../components/AddToCart';\nimport Pagination from '../components/styles/Pagination';\nimport LoadingStyle from '../components/styles/LoadingStyle';\nimport ItemAvailableAgain from '../components/ItemAvailableAgain';\n\nclass Shop extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n\n            items: [],\n            totalItems: null,\n            perPage: 4,\n            currentPage: 1,\n            lastPage: null,\n            loading: true,\n\n        }    \n\n        this.fetchData = this.fetchData.bind(this);\n\n    }\n \n    fetchData = () => {\n\n        fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/shop`, {\n\n            method: 'GET',\n\n            headers: {\n\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n\n            },\n\n        })\n\n        .then(res => {\n\n            return res.json();\n\n        })\n\n        .then(resData => {\n\n            // we need totalItems for pagination\n            this.setState({ loading: false, totalItems: resData.totalItems, email: resData.email });\n\n            /* mapping the items that we are getting from the backend and setting them into state so that we can fetch them */\n            this.setState({ items: resData.items.map(item => {\n\n                const inStock = item.stock;\n\n                return(\n<>\n                    <Link href={`/view-item/${item._id}`}>\n\n                        <a>\n\n                            <StyleOfItem key={item._id}>\n\n                                <h1>title</h1>\n                                <p>{item.title}</p>\n\n                                <img alt={item.title} src={item.image}></img>\n\n                                <h1>description</h1>\n                                <p>{item.description}</p>\n\n                                <h1>price</h1>\n                                <p>{Number(item.price).toFixed(2)} €</p>\n\n                                {/* assigning the item id as props so that we can access it from AddToCart component and make a call to the right API point */}\n                                <AddToCart inStock={Number(inStock)} itemId={item._id} />\n\n                                {inStock <= 5 && inStock > 0 && (\n\n                                    <h1 className=\"few-left\">only {inStock} left!!!</h1>\n\n                                )}\n\n                                {inStock === 0 && (\n\n                                    <ItemAvailableAgain itemId={item._id} />\n\n                                )}\n                            \n                            </StyleOfItem>\n\n                        </a>\n\n                    </Link>\n</>\n                )\n\n            }) });\n\n        })\n\n        .catch(err => {\n\n            console.log(err);\n\n        })\n\n    } \n\n    handleClick = e => {\n\n        // here we change the state of currentPage based on the page that the user clicks so that the index of the items that we want to show will change\n        this.setState({ currentPage: Number(e.target.id) });\n\n        /* disabling next button for click event on <li> */\n        const lastPage = Math.ceil(this.state.totalItems / this.state.perPage);\n\n        if(this.state.currentPage = lastPage) {\n\n            this.setState({ lastPage: lastPage });\n\n        }\n\n        // scrolling to the top\n        window.scrollTo(0, 0)\n\n    }\n\n    // handling the prev button\n    handlePrev = () => {\n\n        this.setState({ currentPage: this.state.currentPage - 1 });\n        window.scrollTo(0, 0);\n\n        // disabling prev button\n        if(this.state.currentPage === 1) {\n\n            this.setState({ currentPage: 1 });\n\n        }\n\n    }\n\n    // handling next button\n    handleNext = () => {\n\n        this.setState({ currentPage: this.state.currentPage + 1 });\n\n        /* disabling next button for click on next button */\n        const lastPage = Math.ceil(this.state.totalItems / this.state.perPage);\n\n        // I don't know why it works with only 1 = but if I try to put === it is not gonna work, weird\n        if(this.state.currentPage = lastPage) {\n\n            this.setState({ lastPage: lastPage });\n\n        }\n\n        window.scrollTo(0, 0);\n\n    }\n\n    componentDidMount() {\n\n        this.fetchData();\n\n    }\n\n    render() {\n\n        /* logic for displaying items */\n\n        // so we first get the index of the items that we want to display like this so that when the user clicks on a different page a new index will render \n        // and so the items that are shown will change\n        const indexLastItem = this.state.currentPage * this.state.perPage;\n        const indexFirstItem = indexLastItem - this.state.perPage;\n\n        // with the slice function we only show 4 items per page by specifing the index of the items\n        const currentItems = this.state.items.slice(indexFirstItem, indexLastItem);\n\n        /* logic for displaying page numbers */\n\n        // empty array where we will push every page numbers\n        const pageNumbers = [];\n\n        // loop so that we can calculate how many pages we need\n        for(let i = 1; i <= Math.ceil(this.state.totalItems / this.state.perPage); i++) {\n\n            pageNumbers.push(i);\n\n        };\n\n        // mapping the page numbers so that we can show it to the users\n        const renderPageNumbers = pageNumbers.map(pageNumber => {\n\n            return (\n\n                <li key={pageNumber} id={pageNumber} className={this.state.currentPage === pageNumber ? 'current-page' : ''} onClick={this.handleClick}>{pageNumber}</li>\n\n            );\n\n        });\n\n        return(\n<>\n            <Header />\n\n            {this.state.loading && (<LoadingStyle>Loading...</LoadingStyle>)}\n\n            <ItemsContainerStyle><div></div>{currentItems}</ItemsContainerStyle>\n\n            {!this.state.loading && this.state.items.length > 4 && (\n\n                <Pagination>\n\n                    <ul>\n                        \n                        <button disabled={this.state.currentPage === 1 ? true : false} onClick={this.handlePrev}>← Prev</button>\n                        \n                            {renderPageNumbers}\n\n                        <button disabled={this.state.currentPage === this.state.lastPage ? true : false} onClick={this.handleNext}>Next →</button>\n                        \n                    </ul>\n\n                </Pagination>\n\n            )}\n\n</>\n        )\n\n    }\n\n};\n\nexport default Shop;"]},"metadata":{},"sourceType":"module"}