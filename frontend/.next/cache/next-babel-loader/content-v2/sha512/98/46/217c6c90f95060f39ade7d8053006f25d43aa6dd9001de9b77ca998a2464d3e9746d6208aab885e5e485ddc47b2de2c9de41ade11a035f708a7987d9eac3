{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\n  return a;\n};\n\nimport React, { Component } from 'react';\nimport { FaStar } from 'react-icons/fa';\nimport MessageStyles from '../components/styles/MessageStyles';\nimport ViewReview from '../components/ViewReview';\nimport WriteReviewStyle from '../components/styles/WriteReviewStyle';\n\nvar WriteReview = /*#__PURE__*/function (_Component) {\n  _inherits(WriteReview, _Component);\n\n  var _super = _createSuper(WriteReview);\n\n  function WriteReview() {\n    var _this;\n\n    _classCallCheck(this, WriteReview);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      review: '',\n      message: null,\n      handleRatingValue: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      _this.setState({\n        review: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchData\", function () {\n      var itemId = _this.props.itemId;\n      fetch(\"\".concat(process.env.LOCALHOST, \"/auth/write-review/\").concat(itemId), {\n        method: 'PUT',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          review: _this.state.review,\n          star: _this.state.handleRatingValue\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resData) {\n        {\n          /* putting the user id into state so that we have a way to show the remove review button only if review is of the user */\n        }\n\n        _this.setState({\n          message: resData.message\n        });\n      })[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRating\", function () {\n      var rating5 = document.getElementById(\"rating-5\");\n      var rating4 = document.getElementById(\"rating-4\");\n      var rating3 = document.getElementById(\"rating-3\");\n      var rating2 = document.getElementById(\"rating-2\");\n      var rating1 = document.getElementById(\"rating-1\"); // mouse over\n\n      rating5.addEventListener(\"mouseover\", function (e) {\n        rating5.classList.add(\"orange\");\n        rating4.classList.add(\"orange\");\n        rating3.classList.add(\"orange\");\n        rating2.classList.add(\"orange\");\n        rating1.classList.add(\"orange\");\n      });\n      rating4.addEventListener(\"mouseover\", function (e) {\n        rating4.classList.add(\"orange\");\n        rating3.classList.add(\"orange\");\n        rating2.classList.add(\"orange\");\n        rating1.classList.add(\"orange\");\n      });\n      rating3.addEventListener(\"mouseover\", function (e) {\n        rating3.classList.add(\"orange\");\n        rating2.classList.add(\"orange\");\n        rating1.classList.add(\"orange\");\n      });\n      rating2.addEventListener(\"mouseover\", function (e) {\n        rating2.classList.add(\"orange\");\n        rating1.classList.add(\"orange\");\n      });\n      rating1.addEventListener(\"mouseover\", function (e) {\n        rating1.classList.add(\"orange\");\n      }); // mouse leave\n\n      rating5.addEventListener(\"mouseleave\", function (e) {\n        rating5.classList.remove(\"orange\");\n        rating4.classList.remove(\"orange\");\n        rating3.classList.remove(\"orange\");\n        rating2.classList.remove(\"orange\");\n        rating1.classList.remove(\"orange\");\n      });\n      rating4.addEventListener(\"mouseleave\", function (e) {\n        rating4.classList.remove(\"orange\");\n        rating3.classList.remove(\"orange\");\n        rating2.classList.remove(\"orange\");\n        rating1.classList.remove(\"orange\");\n      });\n      rating3.addEventListener(\"mouseleave\", function (e) {\n        rating3.classList.remove(\"orange\");\n        rating2.classList.remove(\"orange\");\n        rating1.classList.remove(\"orange\");\n      });\n      rating2.addEventListener(\"mouseleave\", function (e) {\n        rating2.classList.remove(\"orange\");\n        rating1.classList.remove(\"orange\");\n      });\n      rating1.addEventListener(\"mouseleave\", function (e) {\n        rating1.classList.remove(\"orange\");\n      });\n      rating5.addEventListener(\"click\", function (e) {\n        rating5.classList.add(\"orange2\");\n        rating4.classList.add(\"orange2\");\n        rating3.classList.add(\"orange2\");\n        rating2.classList.add(\"orange2\");\n        rating1.classList.add(\"orange2\");\n      });\n      rating4.addEventListener(\"click\", function (e) {\n        rating5.classList.remove(\"orange2\");\n        rating4.classList.add(\"orange2\");\n        rating3.classList.add(\"orange2\");\n        rating2.classList.add(\"orange2\");\n        rating1.classList.add(\"orange2\");\n      });\n      rating3.addEventListener(\"click\", function (e) {\n        rating5.classList.remove(\"orange2\");\n        rating4.classList.remove(\"orange2\");\n        rating3.classList.add(\"orange2\");\n        rating2.classList.add(\"orange2\");\n        rating1.classList.add(\"orange2\");\n      });\n      rating2.addEventListener(\"click\", function (e) {\n        rating5.classList.remove(\"orange2\");\n        rating4.classList.remove(\"orange2\");\n        rating3.classList.remove(\"orange2\");\n        rating2.classList.add(\"orange2\");\n        rating1.classList.add(\"orange2\");\n      });\n      rating1.addEventListener(\"click\", function (e) {\n        rating5.classList.remove(\"orange2\");\n        rating4.classList.remove(\"orange2\");\n        rating3.classList.remove(\"orange2\");\n        rating2.classList.remove(\"orange2\");\n        rating1.classList.add(\"orange2\");\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRatingValue5\", function () {\n      _this.setState({\n        handleRatingValue: 5\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRatingValue4\", function () {\n      _this.setState({\n        handleRatingValue: 4\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRatingValue3\", function () {\n      _this.setState({\n        handleRatingValue: 3\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRatingValue2\", function () {\n      _this.setState({\n        handleRatingValue: 2\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRatingValue1\", function () {\n      _this.setState({\n        handleRatingValue: 1\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(WriteReview, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(WriteReviewStyle, null, /*#__PURE__*/React.createElement(\"h1\", null, \"write a review for this product!\"), this.state.message && /*#__PURE__*/React.createElement(MessageStyles, null, /*#__PURE__*/React.createElement(\"h1\", {\n        className: this.state.message === 'you can only make 1 review per product' || this.state.message === 'Only Users That Bought This Item Can Make A Review.' || this.state.message === 'You cannot take this action, please login' ? 'red' : ''\n      }, this.state.message)), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.handleRatingValue1,\n        onMouseOver: this.handleRating,\n        id: \"rating-1\"\n      }, /*#__PURE__*/React.createElement(FaStar, null)), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.handleRatingValue2,\n        onMouseOver: this.handleRating,\n        id: \"rating-2\"\n      }, /*#__PURE__*/React.createElement(FaStar, null)), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.handleRatingValue3,\n        onMouseOver: this.handleRating,\n        id: \"rating-3\"\n      }, /*#__PURE__*/React.createElement(FaStar, null)), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.handleRatingValue4,\n        onMouseOver: this.handleRating,\n        id: \"rating-4\"\n      }, /*#__PURE__*/React.createElement(FaStar, null)), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: this.handleRatingValue5,\n        onMouseOver: this.handleRating,\n        id: \"rating-5\"\n      }, /*#__PURE__*/React.createElement(FaStar, null)), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"hidden\",\n        name: \"star\",\n        value: this.state.handleRatingValue\n      }), /*#__PURE__*/React.createElement(\"textarea\", {\n        onChange: this.handleChange,\n        value: this.state.review,\n        name: \"review\",\n        placeholder: \"write a review for this product\",\n        cols: \"100\",\n        rows: \"15\"\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.fetchData\n      }, \"send review\"), /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(ViewReview, {\n        userId: this.props.userId,\n        itemId: this.props.itemId\n      })));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    value: // @ts-ignore\n    function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return WriteReview;\n}(Component);\n\nvar _default = WriteReview;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(WriteReview, \"WriteReview\", \"/Users/stefano.mezza/Downloads/e-commerce/e-commerce/frontend/components/WriteReview.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/stefano.mezza/Downloads/e-commerce/e-commerce/frontend/components/WriteReview.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/stefano.mezza/Downloads/e-commerce/e-commerce/frontend/components/WriteReview.js"],"names":["React","Component","FaStar","MessageStyles","ViewReview","WriteReviewStyle","WriteReview","review","message","handleRatingValue","e","setState","target","value","itemId","props","fetch","process","env","LOCALHOST","method","headers","credentials","body","JSON","stringify","state","star","then","res","json","resData","err","console","log","rating5","document","getElementById","rating4","rating3","rating2","rating1","addEventListener","classList","add","remove","handleRatingValue1","handleRating","handleRatingValue2","handleRatingValue3","handleRatingValue4","handleRatingValue5","handleChange","fetchData","userId"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { FaStar } from 'react-icons/fa';\n\nimport MessageStyles from '../components/styles/MessageStyles';\nimport ViewReview from '../components/ViewReview';\nimport WriteReviewStyle from '../components/styles/WriteReviewStyle';\n\nclass WriteReview extends Component {\n\n    state = {\n\n        review: '',\n        message: null,\n        handleRatingValue: null,\n\n    }\n\n    handleChange = e => {\n\n        this.setState({ review: e.target.value });\n\n    }\n\n    fetchData = () => {\n\n        const itemId = this.props.itemId;\n\n        fetch(`${process.env.LOCALHOST}/auth/write-review/${itemId}`, {\n\n            method: 'PUT',\n\n            headers: {\n\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n\n            },\n\n            credentials: 'include',\n\n            body: JSON.stringify({\n\n                review: this.state.review,\n                star: this.state.handleRatingValue,\n\n            })\n\n        })\n\n        .then(res => {\n\n            return res.json();\n\n        })\n\n        .then(resData => {\n\n            {/* putting the user id into state so that we have a way to show the remove review button only if review is of the user */}\n            this.setState({ message: resData.message });\n\n        })\n\n        .catch(err => console.log(err));\n\n    }\n\n    // handling the color of the start rating when the user put the mouse over, mouse leave and clicks on it\n    handleRating = () => {\n\n        const rating5 = document.getElementById(\"rating-5\");\n        const rating4 = document.getElementById(\"rating-4\");\n        const rating3 = document.getElementById(\"rating-3\");\n        const rating2 = document.getElementById(\"rating-2\");\n        const rating1 = document.getElementById(\"rating-1\");\n\n        // mouse over\n        rating5.addEventListener(\"mouseover\", e => {\n\n            rating5.classList.add(\"orange\");\n            rating4.classList.add(\"orange\");\n            rating3.classList.add(\"orange\");\n            rating2.classList.add(\"orange\");\n            rating1.classList.add(\"orange\");\n\n        });\n\n        rating4.addEventListener(\"mouseover\", e => {\n\n            rating4.classList.add(\"orange\");\n            rating3.classList.add(\"orange\");\n            rating2.classList.add(\"orange\");\n            rating1.classList.add(\"orange\");\n\n        });\n\n        rating3.addEventListener(\"mouseover\", e => {\n\n            rating3.classList.add(\"orange\");\n            rating2.classList.add(\"orange\");\n            rating1.classList.add(\"orange\");\n\n        });\n\n        rating2.addEventListener(\"mouseover\", e => {\n\n            rating2.classList.add(\"orange\");\n            rating1.classList.add(\"orange\");\n\n        });\n\n        rating1.addEventListener(\"mouseover\", e => {\n\n            rating1.classList.add(\"orange\");\n\n        });\n\n        // mouse leave\n        rating5.addEventListener(\"mouseleave\", e => {\n\n            rating5.classList.remove(\"orange\");\n            rating4.classList.remove(\"orange\");\n            rating3.classList.remove(\"orange\");\n            rating2.classList.remove(\"orange\");\n            rating1.classList.remove(\"orange\");\n\n        });\n\n        rating4.addEventListener(\"mouseleave\", e => {\n\n            rating4.classList.remove(\"orange\");\n            rating3.classList.remove(\"orange\");\n            rating2.classList.remove(\"orange\");\n            rating1.classList.remove(\"orange\");\n\n        });\n\n        rating3.addEventListener(\"mouseleave\", e => {\n\n            rating3.classList.remove(\"orange\");\n            rating2.classList.remove(\"orange\");\n            rating1.classList.remove(\"orange\");\n\n        });\n\n        rating2.addEventListener(\"mouseleave\", e => {\n\n            rating2.classList.remove(\"orange\");\n            rating1.classList.remove(\"orange\");\n\n        });\n\n        rating1.addEventListener(\"mouseleave\", e => {\n\n            rating1.classList.remove(\"orange\");\n\n        });\n\n        rating5.addEventListener(\"click\", e => {\n\n            rating5.classList.add(\"orange2\");\n            rating4.classList.add(\"orange2\");\n            rating3.classList.add(\"orange2\");\n            rating2.classList.add(\"orange2\");\n            rating1.classList.add(\"orange2\");\n\n        });\n\n        rating4.addEventListener(\"click\", e => {\n\n            rating5.classList.remove(\"orange2\");\n            rating4.classList.add(\"orange2\");\n            rating3.classList.add(\"orange2\");\n            rating2.classList.add(\"orange2\");\n            rating1.classList.add(\"orange2\");\n\n        });\n\n        rating3.addEventListener(\"click\", e => {\n\n            rating5.classList.remove(\"orange2\");\n            rating4.classList.remove(\"orange2\");\n            rating3.classList.add(\"orange2\");\n            rating2.classList.add(\"orange2\");\n            rating1.classList.add(\"orange2\");\n\n        });\n\n        rating2.addEventListener(\"click\", e => {\n\n            rating5.classList.remove(\"orange2\");\n            rating4.classList.remove(\"orange2\");\n            rating3.classList.remove(\"orange2\");\n            rating2.classList.add(\"orange2\");\n            rating1.classList.add(\"orange2\");\n\n        });\n\n        rating1.addEventListener(\"click\", e => {\n\n            rating5.classList.remove(\"orange2\");\n            rating4.classList.remove(\"orange2\");\n            rating3.classList.remove(\"orange2\");\n            rating2.classList.remove(\"orange2\");\n            rating1.classList.add(\"orange2\");\n\n        });\n\n    }\n\n    // setting a value into the state when the user clicks on the stars so that we can pass it into the input hidden and get it into the backend\n    handleRatingValue5 = () => {\n\n        this.setState({ handleRatingValue: 5});\n\n    }\n\n    handleRatingValue4 = () => {\n\n        this.setState({ handleRatingValue: 4 });\n\n    }\n\n    handleRatingValue3 = () => {\n\n        this.setState({ handleRatingValue: 3 });\n\n    }\n\n    handleRatingValue2 = () => {\n\n        this.setState({ handleRatingValue: 2 });\n\n    }\n\n    handleRatingValue1 = () => {\n\n        this.setState({ handleRatingValue: 1 });\n\n    }\n\n    render() {\n\n        return(\n<>\n            <WriteReviewStyle>\n\n                <h1>write a review for this product!</h1>\n\n                {this.state.message && (<MessageStyles><h1 className={this.state.message === \n                'you can only make 1 review per product' || this.state.message === \n                'Only Users That Bought This Item Can Make A Review.' || this.state.message === \n                'You cannot take this action, please login' ? 'red' : ''}>{this.state.message}</h1></MessageStyles>) }\n\n                <span onClick={this.handleRatingValue1} onMouseOver={this.handleRating} id=\"rating-1\" ><FaStar /></span>\n\n                <span onClick={this.handleRatingValue2} onMouseOver={this.handleRating} id=\"rating-2\" ><FaStar /></span>\n\n                <span onClick={this.handleRatingValue3} onMouseOver={this.handleRating} id=\"rating-3\" ><FaStar /></span>\n\n                <span onClick={this.handleRatingValue4} onMouseOver={this.handleRating} id=\"rating-4\" ><FaStar /></span>\n\n                <span onClick={this.handleRatingValue5} onMouseOver={this.handleRating} id=\"rating-5\" ><FaStar /></span>\n\n                <input type=\"hidden\" name=\"star\" value={this.state.handleRatingValue} />\n\n                <textarea onChange={this.handleChange} value={this.state.review} name=\"review\" placeholder=\"write a review for this product\" cols=\"100\" rows=\"15\"></textarea>\n\n                <button onClick={this.fetchData}>send review</button>\n\n                <hr></hr>\n\n                {/* sending the user id so that we have a way to show the remove review button only if review is of the user */}\n                <ViewReview userId={this.props.userId} itemId={this.props.itemId} />\n\n            </WriteReviewStyle>\n\n</>\n        )\n\n    }\n\n}\n\nexport default WriteReview;"]},"metadata":{},"sourceType":"module"}