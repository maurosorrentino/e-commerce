(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[475],{6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},4397:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var a=n(1664),i=n(7294),r=n(9163),o=r.ZP.ul.withConfig({displayName:"NavStyles__NavStyle",componentId:"x3z0n-0"})(["margin:0;padding:0;display:flex;justify-self:end;font-size:1.5rem;button{padding:1rem 2.6rem;display:flex;align-items:center;position:relative;text-transform:uppercase;font-size:1em;background:none;border:0;cursor:pointer;color:yellowgreen;font-weight:700;&:after{height:2px;background:green;content:'';width:0;position:absolute;transform:translateX(-50%);transition:width 0.4s;left:50%;margin-top:4rem;}&:hover,&:focus{outline:none;color:green;&:after{width:calc(100% - 60px);}}}@media only screen and (max-width:350px){button{font-size:.8rem;padding:4px 4px;}}@media only screen and (min-width:350px) and (max-width:450px){button{font-size:1rem;padding:4px 4px;}}@media only screen and (min-width:450px) and (max-width:800px){button{padding:4px 4px;font-size:2rem;}}@media only screen and (min-width:800px) and (max-width:1200px){button{font-size:1.5rem;padding:1rem 2rem;}}@media only screen and (min-width:450px) and (max-width:600px){button{font-size:1.5rem;}}@media only screen and (max-width:1300px){border-top:1px solid lightgreen;width:100%;justify-content:center;font-size:1.5rem;}"]),c=n(6610),l=n(5991),s=n(3349),u=n(5255),m=n(6089),d=n(7608),p=n(6156);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.Z)(this,n)}}var f=function(e){(0,u.Z)(n,e);var t=h(n);function n(){var e;(0,c.Z)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),(0,p.Z)((0,s.Z)(e),"logout",(function(){fetch("".concat("https://e-commerce-backend.ansorren.unmanaged.io","/auth/api/logout"),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}).then((function(){return window.location.replace("/auth/login")})).catch((function(e){return console.log(e)}))})),e}return(0,l.Z)(n,[{key:"render",value:function(){return i.createElement("button",{id:"logout-test",onClick:this.logout},"Logout")}}]),n}(i.Component),g=n(1768),y=n(9583);function b(){return i.createElement(o,null,g.ZP.load("authCookie")&&i.createElement(a.default,{id:"sell-test",href:"/auth/sell"},i.createElement("button",null,"sell")),g.ZP.load("authCookie")&&i.createElement(a.default,{id:"cart-test",href:"/auth/cart"},i.createElement("button",null,"cart")),g.ZP.load("authCookie")&&i.createElement(a.default,{id:"my-item-test",href:"/auth/my-items"},i.createElement("button",null,"my items")),g.ZP.load("authCookie")&&i.createElement(a.default,{href:"/auth/orders"},i.createElement("button",null,"orders")),!g.ZP.load("authCookie")&&i.createElement(a.default,{id:"signup-test",href:"/auth/signup"},i.createElement("button",null,"signup")),!g.ZP.load("authCookie")&&i.createElement(a.default,{id:"login-test",href:"/auth/login"},i.createElement("button",null,"login")),g.ZP.load("authCookie")&&i.createElement(f,null),g.ZP.load("authCookie")&&i.createElement(a.default,{id:"setting-test",href:"/auth/settings"},i.createElement("button",null,i.createElement(y.p4t,null))))}var v=n(4221),x=r.ZP.div.withConfig({displayName:"SearchStyle",componentId:"ofpsei-0"})(["text-align:center;text-transform:uppercase;input{width:100%;text-align:center;border:none;margin-top:1rem;text-transform:uppercase;font-size:1.5rem;}input:focus{outline:none;}li{list-style:none;margin:1rem;box-shadow:0 2px 1rem green;max-width:95%;padding:1rem;word-break:break-all;}li:hover,li:focus{color:green;cursor:pointer;}@media only screen and (max-width:450px){input{font-size:1rem;}}@media only screen and (max-width:1100px){ul{margin-right:2rem;}}"]);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.Z)(this,n)}}var Z=function(e){(0,u.Z)(n,e);var t=E(n);function n(e){var a;return(0,c.Z)(this,n),a=t.call(this,e),(0,p.Z)((0,s.Z)(a),"fetchData",(function(){fetch("".concat("https://e-commerce-backend.ansorren.unmanaged.io","/api/shop"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({items:e.items})})).catch((function(e){return console.log(e)}))})),(0,p.Z)((0,s.Z)(a),"handleChange",(function(e){e.preventDefault(),a.setState({input:e.target.value})})),a.state={items:[],input:""},a.fetchData=a.fetchData.bind((0,s.Z)(a)),a}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=new v.Z(this.state.items,{keys:["title"]}).search(this.state.input).map((function(e){return i.createElement("li",{key:e.item._id},i.createElement(a.default,{href:"/view-item/".concat(e.item._id)},e.item.title))}));return i.createElement(x,null,i.createElement("input",{onChange:this.handleChange,type:"text",placeholder:"search",value:this.state.input}),i.createElement("ul",null,e))}}]),n}(i.Component),w=r.ZP.h1.withConfig({displayName:"Header__Logo",componentId:"sc-1s2mubi-0"})(["font-size:4rem;margin-left:2rem;position:relative;z-index:2;transform:skew(-30deg);a{padding:0.5rem 1rem;background:yellowgreen;color:white;text-transform:uppercase;text-decoration:none;}a:hover,a:focus{background:green;color:yellowgreen;}@media (max-width:1300px){margin:1rem;font-size:1rem;text-align:center;}"]),k=r.ZP.header.withConfig({displayName:"Header__StyledHeader",componentId:"sc-1s2mubi-1"})([".bar{border-bottom:10px solid lightgreen;display:grid;grid-template-columns:50% 50%;justify-content:space-between;align-items:stretch;@media (max-width:1300px){grid-template-columns:1fr;justify-content:center;border-bottom:1px solid lightgreen;}}.sub-bar{display:grid;grid-template-columns:1fr auto;border-bottom:10px solid lightgreen;@media (max-width:1300px){border-bottom:1px solid lightgreen;}}"]);function C(){return i.createElement(k,null,i.createElement("div",{className:"bar"},i.createElement(w,null,i.createElement(a.default,{href:"/"},"My Shop")),i.createElement(b,null)),i.createElement("div",{className:"sub-bar"},i.createElement(Z,null)))}},3804:function(e,t,n){"use strict";var a=n(9163),i=(0,a.F4)(["from{background-position:0 0;}to{background-position:100% 100%;}"]),r=a.ZP.form.withConfig({displayName:"Form",componentId:"sc-1kmq3n-0"})(["border:5px solid white;box-shadow:0 0 5px 3px rgba(0,0,0,0.05);padding:2rem;margin:1rem auto;text-align:center;line-height:1.5;font-weight:600;font-size:1.5rem;background:rgba(0,0,0,0.02);text-transform:uppercase;max-width:60%;img{width:200px;}.invalid{border:5px solid red;}label{text-align:center;margin:1rem;display:block;}input,textarea,select{width:100%;font-size:1rem;padding:0.5rem;border:1px solid black;text-align-last:center;}button,input[type='submit']{font-size:2rem;width:auto;color:white;border:0;padding:0.5rem 1.2rem;font-weight:600;margin:10px;background:green;text-align:center;}button:hover{cursor:pointer;color:yellowgreen;}fieldset{padding:0;border:0;&[disabled]{opacity:0.5;}&::before{content:'';background-image:linear-gradient(to right,#7FFF00 0%,#20B2AA 50%,#32CD32 100%);height:10px;display:block;}&[aria-busy='true']::before{animation:"," 0.5s linear infinite;background-size:50% auto;}}@media only screen and (max-width:1000px){max-width:100%;margin:1rem;img{width:120px;}h1{font-size:.8rem;}label{font-size:.8rem;}input{font-size:.8rem;}button{font-size:.8rem;}}@media only screen and (min-width:700px){img{width:400px;}h1{font-size:1.5rem;}label{font-size:1.5rem;}input{font-size:1.5rem;}button{font-size:1.5rem;}}"],i);t.Z=r},9226:function(e,t,n){"use strict";var a=n(9163).ZP.h1.withConfig({displayName:"LoadingStyle",componentId:"ecqy6b-0"})(["color:green;text-align:center;"]);t.Z=a},6574:function(e,t,n){"use strict";var a=n(9163).ZP.div.withConfig({displayName:"MessageStyles",componentId:"sc-1u0qgc0-0"})(["padding:2rem;background:white;margin:2rem auto;width:80%;box-shadow:0 2px 10px rgba(0,0,0,0.30);word-wrap:break-word;text-transform:uppercase;h1{text-align:center;font-weight:600;color:green;}.red{color:red;}@media only screen and (max-width:600px){padding:1rem;h1{font-size:.7rem;}}@media only screen and (max-width:300px){h1{font-size:8px;}}"]);t.Z=a},5094:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(6610),i=n(5991),r=n(3349),o=n(5255),c=n(6089),l=n(7608),s=n(6156),u=n(7294),m=n(4397),d=n(1768),p=n(6230),h=n.n(p),f=n(3804),g=n(6574);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.Z)(this,n)}}var b=function(e){(0,o.Z)(n,e);var t=y(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),(0,s.Z)((0,r.Z)(e),"state",{loading:!1}),(0,s.Z)((0,r.Z)(e),"removeItem",(function(){e.setState({loading:!0});var t=e.props.itemId;fetch("".concat("https://e-commerce-backend.ansorren.unmanaged.io","/auth/api/remove-item/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then((function(){return window.location.replace("/auth/my-items")})).catch((function(e){return console.log(e)}))})),e}return(0,i.Z)(n,[{key:"render",value:function(){return u.createElement("form",{encType:"multipart/form-data"},u.createElement("input",{type:"hidden",name:"cookie",value:d.ZP.load("connect.sid")}),u.createElement("input",{type:"hidden",name:"XSRF-TOKEN",value:d.ZP.load("token")}),u.createElement("input",{type:"hidden",name:"authCookie",value:d.ZP.load("authCookie")}),u.createElement("button",{onClick:this.removeItem},"Remov",this.state.loading?"ing":"e"))}}]),n}(u.Component);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.Z)(this,n)}}var x=function(e){(0,o.Z)(n,e);var t=v(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),(0,s.Z)((0,r.Z)(e),"state",{title:e.props.title,price:e.props.price,description:e.props.description,image:e.props.img,stock:e.props.stock,loading:!1,message:null}),(0,s.Z)((0,r.Z)(e),"handleInputs",(function(t){e.setState((0,s.Z)({},t.target.name,t.target.value))})),(0,s.Z)((0,r.Z)(e),"handleImageUpload",(function(){var t=document.getElementById("image-test").files;console.log("Image file: ",t[0]);var n=new(h());return n.append("file",t[0]),n.append("upload_preset","qfhsqrkq"),fetch("https://api.Cloudinary.com/v1_1/dqhw3ma9u/image/upload",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){e.setState({image:t.secure_url})})).catch((function(e){return console.log(e)}))})),(0,s.Z)((0,r.Z)(e),"handleSubmit",(function(t){t.preventDefault();var n=e.props.itemId;e.setState({loading:!0}),fetch("".concat("https://e-commerce-backend.ansorren.unmanaged.io","/auth/api/edit-item/").concat(n),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({title:e.state.title,price:e.state.price,description:e.state.description,stock:e.state.stock,image:e.state.image})}).then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,message:t.message})})).catch((function(t){e.setState({loading:!1}),console.log(t)}))})),e}return(0,i.Z)(n,[{key:"render",value:function(){return u.createElement(u.Fragment,null,this.state.message&&u.createElement(g.Z,null,u.createElement("h1",{className:"Title needs to be at least 3 characters"===this.state.message||"Price cannot be less or equal than 0"===this.state.message||"Description needs to be at least 5 characters"===this.state.message||"the number has to be an integer"===this.state.message?"red":"",id:"message-test"},this.state.message)),u.createElement(f.Z,{key:this.props.itemId,id:"form-test",encType:"multipart/form-data",onSubmit:this.handleSubmit},u.createElement("fieldset",{"aria-busy":this.state.loading,disabled:this.state.loading},u.createElement("h1",null,"Edit",this.state.loading?"ing ":""," Item"),u.createElement("input",{type:"hidden",name:"cookie",value:d.ZP.load("connect.sid")}),u.createElement("input",{type:"hidden",name:"XSRF-TOKEN",value:d.ZP.load("token")}),u.createElement("input",{type:"hidden",name:"authCookie",value:d.ZP.load("authCookie")}),u.createElement("label",{htmlFor:"title"},"Title",u.createElement("input",{name:"title",id:"title-test",placeholder:"enter a title",value:this.state.title,onChange:this.handleInputs,className:"Title needs to be at least 3 characters"===this.state.message?"invalid":""})),u.createElement("label",{htmlFor:"price"},"Price \u20ac",u.createElement("input",{name:"price",type:"number",id:"price-test",placeholder:"enter a price",value:this.state.price,onChange:this.handleInputs,className:"Price cannot be less or equal than 0"===this.state.message?"invalid":"",min:"0.01",step:"0.01"})),u.createElement("label",{htmlFor:"image"},"Image",u.createElement("input",{type:"file",name:"image",id:"image-test",placeholder:"upload an image",onChange:this.handleImageUpload})),this.state.image&&u.createElement("figure",null,u.createElement("img",{src:this.state.image,alt:this.state.title})),u.createElement("label",{htmlFor:"description"},"Description",u.createElement("input",{name:"description",id:"description-test",placeholder:"enter a description",value:this.state.description,onChange:this.handleInputs,className:"Description needs to be at least 5 characters"===this.state.message?"invalid":""})),u.createElement("label",{htmlFor:"stock"},"How many items do you have in stock?",u.createElement("input",{name:"stock",type:"number",id:"stock-test",placeholder:"enter how many items you have in stock",value:this.state.stock,step:"1",onChange:this.handleInputs,className:"Items in stock need to be grater than 0"===this.state.message||"the number has to be an integer"===this.state.message?"invalid":""})),u.createElement("button",null,this.state.loading?"Editing Item!":"Edit Item!"),u.createElement(b,{itemId:this.props.itemId}))))}}]),n}(u.Component),E=n(9226);function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.Z)(this,n)}}var w=function(e){(0,o.Z)(n,e);var t=Z(n);function n(e){var i;return(0,a.Z)(this,n),i=t.call(this,e),(0,s.Z)((0,r.Z)(i),"fetchData",(function(){fetch("".concat("https://e-commerce-backend.ansorren.unmanaged.io","/auth/api/my-items"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){i.setState({loading:!1,items:e.items.map((function(e){return u.createElement(x,{title:e.title,description:e.description,img:e.image,price:e.price,key:e._id,itemId:e._id,stock:e.stock})}))})})).catch((function(e){return console.log(e)}))})),i.state={items:[],loading:!0},i.fetchData=i.fetchData.bind((0,r.Z)(i)),i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement(m.Z,null),this.state.loading&&u.createElement(E.Z,null,"Loading..."),!this.state.loading&&u.createElement(u.Fragment,null,u.createElement("h1",{style:{textAlign:"center",color:"green"}},this.state.items.length>0?"You Have Created ".concat(this.state.items.length," \n                Item").concat(this.state.items.length>1?"s":"",":"):"You Did Not Create Any Item Yet"),u.createElement("div",null,this.state.items)))}}]),n}(u.Component),k=function(e){return u.createElement(w,null)}},648:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/my-items",function(){return n(5094)}])}},function(e){e.O(0,[445,15,231,888,774,179],(function(){return t=648,e(e.s=t);var t}));var t=e.O();_N_E=t}]);