(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{7757:function(e,t,n){e.exports=n(5666)},9329:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(6610),a=n(5991),o=n(3349),i=n(5255),l=n(6089),c=n(7608),u=n(6156),s=n(7294);function d(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,a)}var m=n(7757),p=n.n(m),h="https://js.stripe.com/v3",f=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,g="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",x=null,w=function(e){return null!==x?x:x=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(g),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(h,'"]')),t=0;t<e.length;t++){var n=e[t];if(f.test(n.src))return n}return null}();r&&e?console.warn(g):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(h).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(a){return void n(a)}else t(null)}))},y=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.15.0",startTime:t})}(r,n),r},v=Promise.resolve().then((function(){return w(null)})),b=!1;v.catch((function(e){b||console.warn(e)}));var E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b=!0;var r=Date.now();return v.then((function(e){return y(e,t,r)}))}("pk_test_51HeLa7AY2cupxdbxV4hWNp3doOx930yt7seJyMhNViFtFQokc5h93RaJN4NljgNlcRc1f4rVUWQFFwTSzyWJZBzf00EkidN4To");var Z=function(){var e=function(){var e,t=(e=p().mark((function e(t){var n,r,a,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E;case 2:return n=e.sent,e.next=5,fetch("".concat("http://localhost:5000","/auth/api/create-checkout-session"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 5:return r=e.sent,e.next=8,r.json();case 8:return a=e.sent,e.next=11,n.redirectToCheckout({sessionId:a.id});case 11:(o=e.sent).error&&console.log(o.error);case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,l,"next",e)}function l(e){d(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return s.createElement("button",{id:"checkoutButton",onClick:e},"checkout")},k=n(4397),C=n(9163).ZP.div.withConfig({displayName:"CartStyle",componentId:"c97wbe-0"})(["ul{list-style:none;padding:0;margin:1rem auto;width:80%;display:block;}li{display:flex;align-items:center;justify-content:space-between;padding:.2rem;box-shadow:0 2px 10px green;margin-bottom:1rem;max-width:95%;flex-wrap:wrap;}@media only screen and (max-width:300px){li{max-width:100%;}}@media only screen and (min-width:300px) and (max-width:350px){ul{max-width:90%}li{width:100%;}}@media only screen and (min-width:350px) and (max-width:370px){li{max-width:100%;}ul{width:70%;}}@media only screen and (min-width:370px) and (max-width:400px){li{max-width:100%;}ul{width:60%;}}@media only screen and (min-width:400px) and (max-width:500px){li{max-width:100%;margin:1rem;}ul{width:100%;}}@media only screen and (min-width:500px) and (max-width:550px){li{max-width:100%;}ul{width:85%;}}@media only screen and (min-width:550px) and (max-width:600px){li{max-width:100%;}ul{width:75%;}}@media only screen and (min-width:600px) and (max-width:800px){li{max-width:100%;}ul{width:95%;}}h1,p{margin:1rem;text-align:center;font-weight:600;color:green;text-transform:uppercase;}h1{color:black;font-size:1rem;}button{background:red;color:white;border:0;font-size:.7rem;font-weight:600;padding:0.5rem 1.2rem;border-radius:4px;margin-right:.7rem;}button:hover{cursor:pointer;}#checkoutButton{margin:1rem auto;display:block;background-color:green;font-size:1.5rem;text-transform:uppercase;}"]),S=n(1768);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var j=function(e){(0,i.Z)(n,e);var t=P(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),(0,u.Z)((0,o.Z)(e),"removeFromCart",(function(){var t=e.props.itemId;fetch("".concat("http://localhost:5000","/auth/api/remove-from-cart/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}).then((function(){return window.location.replace("/auth/cart")})).catch((function(e){return console.log(e)}))})),e}return(0,a.Z)(n,[{key:"render",value:function(){return s.createElement(s.Fragment,null,s.createElement("form",{encType:"multipart/form-data"},s.createElement("input",{type:"hidden",name:"cookie",value:S.ZP.load("connect.sid")}),s.createElement("input",{type:"hidden",name:"XSRF-TOKEN",value:S.ZP.load("token")}),s.createElement("input",{type:"hidden",name:"authCookie",value:S.ZP.load("authCookie")}),s.createElement("button",{onClick:this.removeFromCart,"aria-label":"remove from cart"},"X")))}}]),n}(s.Component),R=n(9226);function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var N=function(e){(0,i.Z)(n,e);var t=D(n);function n(e){var a;return(0,r.Z)(this,n),a=t.call(this,e),(0,u.Z)((0,o.Z)(a),"fetchData",(function(){fetch("".concat("http://localhost:5000","/auth/api/cart"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){a.setState({email:e.email,loading:!1,total:e.total,items:e.items.map((function(e){return s.createElement(s.Fragment,null,s.createElement("ul",null,s.createElement("li",{key:e.itemId},s.createElement("h1",null,"Title:"),s.createElement("p",null,e.title),s.createElement("h1",null,"Price:"),s.createElement("p",null,Number(e.price).toFixed(2)," \u20ac"),s.createElement("h1",null,"Quantity:"),s.createElement("p",null,e.quantity),s.createElement(j,{itemId:e.itemId}))))}))})})).catch((function(e){return console.log(e)}))})),a.state={items:[],total:void 0,email:"",loading:!0},a.fetchData=a.fetchData.bind((0,o.Z)(a)),a}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return s.createElement(s.Fragment,null,s.createElement(k.Z,null),this.state.loading&&s.createElement(R.Z,null,"Loading..."),this.state.items.length>0&&s.createElement(C,null,s.createElement("h1",null,"List Of The Items That You Have In Your Cart:"),this.state.items,s.createElement("h1",null,"Total:"),s.createElement("p",null,Number(this.state.total).toFixed(2)," \u20ac"),s.createElement(Z,null)),0===this.state.items.length&&!this.state.loading&&s.createElement(C,null,s.createElement("h1",null,"You Don't Have Any Items In Your Cart")))}}]),n}(s.Component)},4397:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(1664),a=n(7294),o=n(9163),i=o.ZP.ul.withConfig({displayName:"NavStyles__NavStyle",componentId:"x3z0n-0"})(["margin:0;padding:0;display:flex;justify-self:end;font-size:1.5rem;button{padding:1rem 2.6rem;display:flex;align-items:center;position:relative;text-transform:uppercase;font-size:1em;background:none;border:0;cursor:pointer;color:yellowgreen;font-weight:700;&:after{height:2px;background:green;content:'';width:0;position:absolute;transform:translateX(-50%);transition:width 0.4s;left:50%;margin-top:4rem;}&:hover,&:focus{outline:none;color:green;&:after{width:calc(100% - 60px);}}}@media only screen and (max-width:350px){button{font-size:.8rem;padding:4px 4px;}}@media only screen and (min-width:350px) and (max-width:450px){button{font-size:1rem;padding:4px 4px;}}@media only screen and (min-width:450px) and (max-width:800px){button{padding:4px 4px;font-size:2rem;}}@media only screen and (min-width:800px) and (max-width:1200px){button{font-size:1.5rem;padding:1rem 2rem;}}@media only screen and (min-width:450px) and (max-width:600px){button{font-size:1.5rem;}}@media only screen and (max-width:1300px){border-top:1px solid lightgreen;width:100%;justify-content:center;font-size:1.5rem;}"]),l=n(6610),c=n(5991),u=n(3349),s=n(5255),d=n(6089),m=n(7608),p=n(6156);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var a=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var f=function(e){(0,s.Z)(n,e);var t=h(n);function n(){var e;(0,l.Z)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,p.Z)((0,u.Z)(e),"logout",(function(){fetch("".concat("http://localhost:5000","/auth/api/logout"),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}).then((function(){return window.location.replace("/auth/login")})).catch((function(e){return console.log(e)}))})),e}return(0,c.Z)(n,[{key:"render",value:function(){return a.createElement("button",{id:"logout-test",onClick:this.logout},"Logout")}}]),n}(a.Component),g=n(1768),x=n(9583);function w(){return a.createElement(i,null,g.ZP.load("authCookie")&&a.createElement(r.default,{id:"sell-test",href:"/auth/sell"},a.createElement("button",null,"sell")),g.ZP.load("authCookie")&&a.createElement(r.default,{id:"cart-test",href:"/auth/cart"},a.createElement("button",null,"cart")),g.ZP.load("authCookie")&&a.createElement(r.default,{id:"my-item-test",href:"/auth/my-items"},a.createElement("button",null,"my items")),g.ZP.load("authCookie")&&a.createElement(r.default,{href:"/auth/orders"},a.createElement("button",null,"orders")),!g.ZP.load("authCookie")&&a.createElement(r.default,{id:"signup-test",href:"/auth/signup"},a.createElement("button",null,"signup")),!g.ZP.load("authCookie")&&a.createElement(r.default,{id:"login-test",href:"/auth/login"},a.createElement("button",null,"login")),g.ZP.load("authCookie")&&a.createElement(f,null),g.ZP.load("authCookie")&&a.createElement(r.default,{id:"setting-test",href:"/auth/settings"},a.createElement("button",null,a.createElement(x.p4t,null))))}var y=n(4221),v=o.ZP.div.withConfig({displayName:"SearchStyle",componentId:"ofpsei-0"})(["text-align:center;text-transform:uppercase;input{width:100%;text-align:center;border:none;margin-top:1rem;text-transform:uppercase;font-size:1.5rem;}input:focus{outline:none;}li{list-style:none;margin:1rem;box-shadow:0 2px 1rem green;max-width:95%;padding:1rem;word-break:break-all;}li:hover,li:focus{color:green;cursor:pointer;}@media only screen and (max-width:450px){input{font-size:1rem;}}@media only screen and (max-width:1100px){ul{margin-right:2rem;}}"]);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var a=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var E=function(e){(0,s.Z)(n,e);var t=b(n);function n(e){var r;return(0,l.Z)(this,n),r=t.call(this,e),(0,p.Z)((0,u.Z)(r),"fetchData",(function(){fetch("".concat("http://localhost:5000","/api/shop"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){r.setState({items:e.items})})).catch((function(e){return console.log(e)}))})),(0,p.Z)((0,u.Z)(r),"handleChange",(function(e){e.preventDefault(),r.setState({input:e.target.value})})),r.state={items:[],input:""},r.fetchData=r.fetchData.bind((0,u.Z)(r)),r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=new y.Z(this.state.items,{keys:["title"]}).search(this.state.input).map((function(e){return a.createElement("li",{key:e.item._id},a.createElement(r.default,{href:"/view-item/".concat(e.item._id)},e.item.title))}));return a.createElement(v,null,a.createElement("input",{onChange:this.handleChange,type:"text",placeholder:"search",value:this.state.input}),a.createElement("ul",null,e))}}]),n}(a.Component),Z=o.ZP.h1.withConfig({displayName:"Header__Logo",componentId:"sc-1s2mubi-0"})(["font-size:4rem;margin-left:2rem;position:relative;z-index:2;transform:skew(-30deg);a{padding:0.5rem 1rem;background:yellowgreen;color:white;text-transform:uppercase;text-decoration:none;}a:hover,a:focus{background:green;color:yellowgreen;}@media (max-width:1300px){margin:1rem;font-size:1rem;text-align:center;}"]),k=o.ZP.header.withConfig({displayName:"Header__StyledHeader",componentId:"sc-1s2mubi-1"})([".bar{border-bottom:10px solid lightgreen;display:grid;grid-template-columns:50% 50%;justify-content:space-between;align-items:stretch;@media (max-width:1300px){grid-template-columns:1fr;justify-content:center;border-bottom:1px solid lightgreen;}}.sub-bar{display:grid;grid-template-columns:1fr auto;border-bottom:10px solid lightgreen;@media (max-width:1300px){border-bottom:1px solid lightgreen;}}"]);function C(){return a.createElement(k,null,a.createElement("div",{className:"bar"},a.createElement(Z,null,a.createElement(r.default,{href:"/"},"My Shop")),a.createElement(w,null)),a.createElement("div",{className:"sub-bar"},a.createElement(E,null)))}},9226:function(e,t,n){"use strict";var r=n(9163).ZP.h1.withConfig({displayName:"LoadingStyle",componentId:"ecqy6b-0"})(["color:green;text-align:center;"]);t.Z=r}}]);