_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"/0+H":function(e,t,n){"use strict";t.__esModule=!0,t.isInAmpMode=i,t.useAmp=function(){return i(r.default.useContext(o.AmpStateContext))};var a,r=(a=n("q1tI"))&&a.__esModule?a:{default:a},o=n("lwAK");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,a=e.hybrid,r=void 0!==a&&a,o=e.hasQuery,i=void 0!==o&&o;return n||r&&i}},"3UzX":function(e,t,n){"use strict";var a=n("lwsE"),r=n.n(a),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),l=n.n(c),u=n("7W2i"),s=n.n(u),d=n("a1gu"),f=n.n(d),m=n("Nsbk"),h=n.n(m),p=n("lSNA"),g=n.n(p),v=n("q1tI"),y=n.n(v),w=n("Po8q"),b=n.n(w),E=n("VfJJ");function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var x=function(e){s()(n,e);var t=k(n);function n(){var e;r()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(l()(e),"state",{message:null}),g()(l()(e),"addToCart",(function(){var t=e.props.itemId;fetch("".concat("http://localhost:8090","/auth/add-to-cart/").concat(t),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){e.setState({message:t.message})})).catch((function(e){return console.log(e)}))})),g()(l()(e),"handleSubmit",(function(e){e.preventDefault()})),e}return i()(n,[{key:"render",value:function(){var e=0===this.props.inStock;return y.a.createElement(y.a.Fragment,null,y.a.createElement("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data"},y.a.createElement("input",{type:"hidden",name:"cookie",value:b.a.load("connect.sid")}),y.a.createElement("input",{type:"hidden",name:"XSRF-TOKEN",value:b.a.load("token")}),y.a.createElement("input",{type:"hidden",name:"authCookie",value:b.a.load("authCookie")}),y.a.createElement("button",{disabled:e,onClick:this.addToCart},"Add To Cart"),this.state.message&&y.a.createElement(E.a,null,y.a.createElement("h1",{className:this.state.message==="we only have ".concat(this.props.inStock," left into the store")?"red":""},this.state.message))))}}]),n}(v.Component);t.a=x},"8Kt/":function(e,t,n){"use strict";n("lSNA");t.__esModule=!0,t.defaultHead=s,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=(a=n("Xuae"))&&a.__esModule?a:{default:a},i=n("lwAK"),c=n("FYa8"),l=n("/0+H");function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[r.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(r.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function d(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===r.default.Fragment?e.concat(r.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var f=["name","httpEquiv","charSet","itemProp"];function m(e,t){return e.reduce((function(e,t){var n=r.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(d,[]).reverse().concat(s(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,a={};return function(r){var o=!0,i=!1;if(r.key&&"number"!==typeof r.key&&r.key.indexOf("$")>0){i=!0;var c=r.key.slice(r.key.indexOf("$")+1);e.has(c)?o=!1:e.add(c)}switch(r.type){case"title":case"base":t.has(r.type)?o=!1:t.add(r.type);break;case"meta":for(var l=0,u=f.length;l<u;l++){var s=f[l];if(r.props.hasOwnProperty(s))if("charSet"===s)n.has(s)?o=!1:n.add(s);else{var d=r.props[s],m=a[s]||new Set;"name"===s&&i||!m.has(d)?(m.add(d),a[s]=m):o=!1}}}return o}}()).reverse().map((function(e,t){var n=e.key||t;return r.default.cloneElement(e,{key:n})}))}function h(e){var t=e.children,n=(0,r.useContext)(i.AmpStateContext),a=(0,r.useContext)(c.HeadManagerContext);return r.default.createElement(o.default,{reduceComponentsToState:m,headManager:a,inAmpMode:(0,l.isInAmpMode)(n)},t)}h.rewind=function(){};var p=h;t.default=p},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},EbDI:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},FYa8:function(e,t,n){"use strict";var a;t.__esModule=!0,t.HeadManagerContext=void 0;var r=((a=n("q1tI"))&&a.__esModule?a:{default:a}).default.createContext({});t.HeadManagerContext=r},Ijbi:function(e,t,n){var a=n("WkPL");e.exports=function(e){if(Array.isArray(e))return a(e)}},Q8F1:function(e,t,n){"use strict";var a=n("lwsE"),r=n.n(a),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),l=n.n(c),u=n("7W2i"),s=n.n(u),d=n("a1gu"),f=n.n(d),m=n("Nsbk"),h=n.n(m),p=n("lSNA"),g=n.n(p),v=n("q1tI"),y=n.n(v),w=n("Po8q"),b=n.n(w),E=n("VfJJ");function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var x=function(e){s()(n,e);var t=k(n);function n(){var e;r()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(l()(e),"state",{message:null,email:""}),g()(l()(e),"fetchDataLoggedIn",(function(){var t=e.props.itemId;fetch("".concat("http://localhost:8090","/email-me-item/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){e.setState({message:t.message})})).catch((function(e){return console.log(e)}))})),g()(l()(e),"pleaseEnterYourEmail",(function(){e.setState({message:"please enter your email"})})),g()(l()(e),"fetchDataLoggedOut",(function(){var t=e.props.itemId;fetch("".concat("http://localhost:8090","/email-me-item-out/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({email:e.state.email})}).then((function(e){return e.json()})).then((function(t){e.setState({message:t.message})})).catch((function(e){return console.log(e)}))})),g()(l()(e),"handleChange",(function(t){e.setState({email:t.target.value})})),e}return i()(n,[{key:"render",value:function(){return y.a.createElement(y.a.Fragment,null,b.a.load("authCookie")&&y.a.createElement("button",{onClick:this.fetchDataLoggedIn},"Email Me When It Will Be Available Again!"),!b.a.load("authCookie")&&y.a.createElement("button",{onClick:this.pleaseEnterYourEmail},"Email Me When It Will Be Available Again!"),this.state.message&&y.a.createElement(E.a,null,y.a.createElement("h1",{className:"you already requested a follow up email notification for this item"===this.state.message?"red":""},this.state.message)),"please enter your email"===this.state.message&&y.a.createElement(y.a.Fragment,null,y.a.createElement("input",{type:"email",name:"email",onChange:this.handleChange,placeholder:"enter your email",value:this.state.email}),y.a.createElement("button",{onClick:this.fetchDataLoggedOut,id:"button-logged-out"},"Send Me An Email")))}}]),n}(v.Component);t.a=x},RIqP:function(e,t,n){var a=n("Ijbi"),r=n("EbDI"),o=n("ZhPi"),i=n("Bnag");e.exports=function(e){return a(e)||r(e)||o(e)||i()}},RNiq:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var a,r,o=n("g4pe"),i=n.n(o),c=n("q1tI"),l=n.n(c),u=n("lwsE"),s=n.n(u),d=n("W8MJ"),f=n.n(d),m=n("PJYZ"),h=n.n(m),p=n("7W2i"),g=n.n(p),v=n("a1gu"),y=n.n(v),w=n("Nsbk"),b=n.n(w),E=n("lSNA"),k=n.n(E),x=n("YFqc"),P=n.n(x),S=n("Ui6y"),C=n("b0oO"),M=n("VkAN"),_=n.n(M),A=n("vOnD"),I=A.a.div(a||(a=_()(["\n\n    display: grid;\n    grid-template-columns: 50% 50%;\n    grid-gap: 20px;\n    max-width: 80%;\n    margin: 0 auto;\n    height: 100%;\n\n    @media only screen and (max-width: 1200px) {\n\n        grid-template-columns: 100%;\n\n    }\n\n"]))),N=n("3UzX"),D=A.a.div(r||(r=_()(["\n\n  text-align: center;\n  margin: 2rem 0;\n  border: 1px solid green;\n  border-radius: 10px;\n  margin: 1rem;\n\n  li {\n\n    list-style: none;\n    display: inline-block;\n    margin: 1rem;\n    border: 1px solid green;\n    border-radius: 5px;\n    width: 2rem;\n\n  }\n\n  button:hover, button:focus {\n\n    cursor: pointer;\n    color: yellowgreen;\n\n  }\n\n  li:hover, li:focus {\n\n    cursor: pointer;\n    background: yellowgreen;\n\n  }\n\n  button {\n\n    width: auto;\n    background: green;\n    color: white;\n    border: 0;\n    font-size: 1rem;\n    font-weight: 600;\n    padding: 0.5rem 1rem;\n\n  }\n\n  button:disabled {\n\n    opacity: 0.5;\n    color: white;\n    cursor: not-allowed;\n\n  }\n\n  .current-page {\n\n      background-color: green;\n\n  }\n\n"]))),R=n("haSQ"),j=n("Q8F1");function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}var T=function(e){g()(n,e);var t=O(n);function n(e){var a;return s()(this,n),a=t.call(this,e),k()(h()(a),"fetchData",(function(){fetch("".concat("http://localhost:8090","/shop"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({loading:!1,totalItems:e.totalItems,email:e.email}),a.setState({items:e.items.map((function(e){var t=e.stock;return l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,{key:e._id},l.a.createElement("h1",null,"title"),l.a.createElement("p",null,e.title),l.a.createElement("img",{alt:e.title,src:e.image}),l.a.createElement("h1",null,"description"),l.a.createElement("p",null,e.description),l.a.createElement("h1",null,"price"),l.a.createElement("p",null,Number(e.price).toFixed(2)," \u20ac"),l.a.createElement("button",null,l.a.createElement(P.a,{href:"/view-item/".concat(e._id)},"View Item")),l.a.createElement(N.a,{inStock:Number(t),itemId:e._id}),t<=5&&t>0&&l.a.createElement("h1",{className:"few-left"},"only ",t," left!!!"),0===t&&l.a.createElement(j.a,{itemId:e._id})))}))})})).catch((function(e){console.log(e)}))})),k()(h()(a),"handleClick",(function(e){a.setState({currentPage:Number(e.target.id)});var t=Math.ceil(a.state.totalItems/a.state.perPage);(a.state.currentPage=t)&&a.setState({lastPage:t}),window.scrollTo(0,0)})),k()(h()(a),"handlePrev",(function(){a.setState({currentPage:a.state.currentPage-1}),window.scrollTo(0,0),1===a.state.currentPage&&a.setState({currentPage:1})})),k()(h()(a),"handleNext",(function(){a.setState({currentPage:a.state.currentPage+1});var e=Math.ceil(a.state.totalItems/a.state.perPage);(a.state.currentPage=e)&&a.setState({lastPage:e}),window.scrollTo(0,0)})),a.state={items:[],totalItems:null,perPage:4,currentPage:1,lastPage:null,loading:!0},a.fetchData=a.fetchData.bind(h()(a)),a}return f()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){for(var e=this,t=this.state.currentPage*this.state.perPage,n=t-this.state.perPage,a=this.state.items.slice(n,t),r=[],o=1;o<=Math.ceil(this.state.totalItems/this.state.perPage);o++)r.push(o);var i=r.map((function(t){return l.a.createElement("li",{key:t,id:t,className:e.state.currentPage===t?"current-page":"",onClick:e.handleClick},t)}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,null),this.state.loading&&l.a.createElement(R.a,null,"Loading..."),l.a.createElement(I,null,a),!this.state.loading&&this.state.items.length>4&&l.a.createElement(D,null,l.a.createElement("ul",null,l.a.createElement("button",{disabled:1===this.state.currentPage,onClick:this.handlePrev},"\u2190 Prev"),i,l.a.createElement("button",{disabled:this.state.currentPage===this.state.lastPage,onClick:this.handleNext},"Next \u2192"))))}}]),n}(c.Component);function q(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,null,l.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),l.a.createElement("meta",{charSet:"utf-8"}),l.a.createElement("title",null,"My Shop")),l.a.createElement(T,null))}},Ui6y:function(e,t,n){"use strict";var a,r=n("VkAN"),o=n.n(r),i=n("vOnD").a.div(a||(a=o()(["\n\n  box-shadow: 0 0 5px 3px rgba(0, 0, 0, 0.05);\n  background: rgba(0, 0, 0, 0.02);\n  border: 5px solid white;\n  padding: 20px;\n  font-weight: 600;\n  text-align: center;\n  margin: 2rem;\n  word-wrap: break-word;\n\n  img {\n\n    max-width: 100%;\n    height: auto;\n    object-fit: cover;\n\n  }\n\n  p {\n\n    line-height: 1;\n    font-weight: 300;\n    flex-grow: 1;\n    font-size: 1.5rem;\n    color: green;\n\n  }\n\n  h1 {\n\n    text-transform: uppercase;\n    font-size: 2rem;\n\n  }\n\n  button {\n\n    width: auto;\n    background: green;\n    color: white;\n    border: 0;\n    font-size: 2rem;\n    font-weight: 600;\n    padding: 0.2rem .5rem;\n    margin: 1rem auto;\n    \n  }\n\n  button:hover {\n\n    cursor: pointer;\n    color: yellowgreen;\n\n  }\n\n  button:disabled {\n\n    opacity: .5;\n    color: white;\n    cursor: not-allowed;\n\n  }\n\n  .few-left {\n\n    color: red;\n    transform: rotate(-15deg);\n\n  }\n\n  #button-logged-out {\n\n    font-size: 1rem;\n    margin-left: 1rem;\n\n  }\n\n  @media only screen and (max-width: 450px) {\n\n    width: 95%;\n    margin: 1rem auto;\n\n    h1 {\n\n      font-size: 1.5rem;\n\n    }\n\n    p {\n\n      font-size: 1rem;\n\n    }\n\n    button {\n\n      font-size: 1.5rem;\n\n    }\n\n  }\n\n"])));t.a=i},VfJJ:function(e,t,n){"use strict";var a,r=n("VkAN"),o=n.n(r),i=n("vOnD").a.div(a||(a=o()(["\n\n    padding: 2rem;\n    background: white;\n    margin: 2rem auto;\n    width: 80%;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.30);\n    word-wrap: break-word;\n    text-transform: uppercase;\n\n    h1 {\n\n        text-align: center;\n        font-weight: 600;\n        color: green;\n\n    }\n\n    .red {\n\n        color: red;\n\n    }\n\n    @media only screen and (max-width: 600px) {\n\n        padding: 1rem;\n\n        h1 {\n\n            font-size: .7rem;\n\n        }\n\n    }\n\n    @media only screen and (max-width: 300px) {\n\n        h1 {\n\n            font-size: 8px;\n\n        }\n\n    }\n\n"])));t.a=i},Xuae:function(e,t,n){"use strict";var a=n("RIqP"),r=n("lwsE"),o=n("W8MJ"),i=(n("PJYZ"),n("7W2i")),c=n("a1gu"),l=n("Nsbk");function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return c(this,n)}}t.__esModule=!0,t.default=void 0;var s=n("q1tI"),d=function(e){i(n,e);var t=u(n);function n(e){var o;return r(this,n),(o=t.call(this,e))._hasHeadManager=void 0,o.emitChange=function(){o._hasHeadManager&&o.props.headManager.updateHead(o.props.reduceComponentsToState(a(o.props.headManager.mountedInstances),o.props))},o._hasHeadManager=o.props.headManager&&o.props.headManager.mountedInstances,o}return o(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(s.Component);t.default=d},g4pe:function(e,t,n){e.exports=n("8Kt/")},haSQ:function(e,t,n){"use strict";var a,r=n("VkAN"),o=n.n(r),i=n("vOnD").a.h1(a||(a=o()(["\n\n    color: green;\n    text-align: center;\n\n"])));t.a=i},lwAK:function(e,t,n){"use strict";var a;t.__esModule=!0,t.AmpStateContext=void 0;var r=((a=n("q1tI"))&&a.__esModule?a:{default:a}).default.createContext({});t.AmpStateContext=r},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",0,2,4,1,3,5]]]);